# ğŸ¯ OpenManus & DroidRun ì™„ì „ ê°€ì´ë“œ

> **ë‹¹ì‹ ì˜ AI ì—ì´ì „íŠ¸ ìë™í™” í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ ì™„ë²½í•œ ì´í•´ì„œ**
> 
> ì´ ë¬¸ì„œëŠ” OpenManusì™€ DroidRun ë‘ í”„ë¡œì íŠ¸ë¥¼ ì²˜ìŒë¶€í„° ëê¹Œì§€ ì™„ì „íˆ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
> ì˜ì–´ë¡œ ëœ ì½”ë“œì™€ ì£¼ì„ì„ í•œêµ­ì–´ë¡œ í’€ì–´ì„œ ì„¤ëª…í•˜ë©°, ëª¨ë“  ì „ë¬¸ ìš©ì–´ì— ëŒ€í•´ **ì‰¬ìš´ ë¹„ìœ **ì™€ **ì‹¤ì œ ì‘ë™ ë©”ì»¤ë‹ˆì¦˜**ì„ í¬í•¨í•©ë‹ˆë‹¤.

---

## ğŸ“š ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ì „ì²´ ê°œìš”](#1-í”„ë¡œì íŠ¸-ì „ì²´-ê°œìš”)
2. [OpenManus ì™„ì „ ë¶„ì„](#2-openmanus-ì™„ì „-ë¶„ì„)
3. [DroidRun ì™„ì „ ë¶„ì„](#3-droidrun-ì™„ì „-ë¶„ì„)
4. [ë‘ í”„ë¡œì íŠ¸ í†µí•© ì „ëµ](#4-ë‘-í”„ë¡œì íŠ¸-í†µí•©-ì „ëµ)
5. [ì‹¤ì „ í™œìš© ê°€ì´ë“œ](#5-ì‹¤ì „-í™œìš©-ê°€ì´ë“œ)

---

## 1. í”„ë¡œì íŠ¸ ì „ì²´ ê°œìš”

### 1.1 í”„ë¡œì íŠ¸ ëª©í‘œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ¯ ìµœì¢… ëª©í‘œ                               â”‚
â”‚                                                              â”‚
â”‚  "ìì—°ì–´ ëª…ë ¹ í•˜ë‚˜ë¡œ ì›¹ ë¦¬ì„œì¹˜ë¶€í„° ëª¨ë°”ì¼ ì•± ìë™í™”ê¹Œì§€        â”‚
â”‚   ëª¨ë“  ì‘ì—…ì„ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” AI ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ êµ¬ì¶•"       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**êµ¬ì²´ì  ì‚¬ìš© ì˜ˆì‹œ:**
```
ì‚¬ìš©ì: "ë„¤ì´ë²„ ë¸”ë¡œê·¸ì— 'ê°•ë‚¨ ë§›ì§‘' ê¸€ ì‘ì„±í•´ì¤˜"

ì‹œìŠ¤í…œ ë™ì‘:
1. êµ¬ê¸€ì—ì„œ "ê°•ë‚¨ ë§›ì§‘" ê²€ìƒ‰ (ì›¹ ìë™í™”)
2. ìƒìœ„ ë¸”ë¡œê·¸ í¬ë¡¤ë§ & ìš”ì•½ (ë°ì´í„° ìˆ˜ì§‘)
3. 1500ì ë¸”ë¡œê·¸ ê¸€ ìƒì„± (AI ì‘ë¬¸)
4. Android ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì•± ì‹¤í–‰ (ëª¨ë°”ì¼ ìë™í™”)
5. ì œëª©/ë³¸ë¬¸ ì…ë ¥ í›„ ë°œí–‰ (UI ì¡°ì‘)

âœ… ê²°ê³¼: 5ë¶„ ì•ˆì— ì™„ì„±ëœ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸
```

### 1.2 ë‘ í”„ë¡œì íŠ¸ì˜ ì—­í• 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì „ì²´ ì•„í‚¤í…ì²˜                               â”‚
â”‚                                                               â”‚
â”‚  OpenManus (ì´ê´„ ê´€ë¦¬ì = ë‘ë‡Œ)                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  - ì‚¬ìš©ì ì˜ë„ íŒŒì•…                              â”‚          â”‚
â”‚  â”‚  - ì‘ì—… ê³„íš ìˆ˜ë¦½                               â”‚          â”‚
â”‚  â”‚  - ë„êµ¬ ì„ íƒ & ì¡°ìœ¨                             â”‚          â”‚
â”‚  â”‚  - ê²°ê³¼ í†µí•©                                   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                 â”‚                                             â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚       â–¼         â–¼          â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚ì›¹ ê²€ìƒ‰ â”‚ â”‚ë¸Œë¼ìš°ì €â”‚ â”‚DroidRun â”‚ (ì‹¤í–‰ ë„êµ¬ë“¤ = ì†ë°œ)      â”‚
â”‚  â”‚ ë„êµ¬  â”‚ â”‚ìë™í™” â”‚ â”‚ ëª¨ë°”ì¼  â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                            â”‚                                  â”‚
â”‚                            â–¼                                  â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                   â”‚  Android ê¸°ê¸°   â”‚                        â”‚
â”‚                   â”‚  (ì‹¤ì œ ì‘ì—… ìˆ˜í–‰)â”‚                        â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### OpenManusë€?

ğŸ“– **OpenManus**
â”œâ”€ **ì •ì˜**: LLM ê¸°ë°˜ì˜ ë‹¤ëª©ì  AI ì—ì´ì „íŠ¸ í”„ë ˆì„ì›Œí¬ë¡œ, ë‹¤ì–‘í•œ ë„êµ¬ë¥¼ í†µí•© ê´€ë¦¬í•˜ëŠ” "ì´ê´„ ê´€ë¦¬ì" ì—­í• 
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ê±´ì„¤ í˜„ì¥ì˜ í˜„ì¥ ê°ë…. ì²­ì‚¬ì§„(ì‚¬ìš©ì ìš”ì²­)ì„ ë³´ê³  ì–´ë–¤ ì‘ì—…ì(ë„êµ¬)ë¥¼ ì–¸ì œ ì–´ë–»ê²Œ íˆ¬ì…í• ì§€ ê²°ì •
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  1. ì‚¬ìš©ì ìš”ì²­ ë¶„ì„ â†’ 2. ë‹¨ê³„ë³„ ê³„íš ìˆ˜ë¦½ â†’ 3. ì ì ˆí•œ ë„êµ¬ ì„ íƒ 
â”‚  â†’ 4. ë„êµ¬ ì‹¤í–‰ â†’ 5. ê²°ê³¼ í™•ì¸ â†’ 6. ë‹¤ìŒ ë‹¨ê³„ ê²°ì • (ë°˜ë³µ)
â””â”€ **ì¡´ì¬ ì´ìœ **: ë‹¨ì¼ ë„êµ¬ë¡œëŠ” ë¶ˆê°€ëŠ¥í•œ ë³µì¡í•œ ì‘ì—…ì„ ì—¬ëŸ¬ ë„êµ¬ë¥¼ ì¡°ìœ¨í•´ í•´ê²°í•˜ê¸° ìœ„í•´

**í•µì‹¬ íŠ¹ì§•:**
- âœ… MetaGPT íŒ€ì´ 3ì‹œê°„ ë§Œì— í”„ë¡œí† íƒ€ì… ì œì‘ (2025ë…„)
- âœ… ì›¹ ë¸Œë¼ìš°ì € ìë™í™” (Playwright ê¸°ë°˜)
- âœ… MCP(Model Context Protocol) ì§€ì›
- âœ… ë‹¤ì–‘í•œ LLM ì§€ì› (GPT-4o, Claude, Gemini ë“±)
- âœ… í”ŒëŸ¬ê·¸ì¸ ë°©ì‹ì˜ ë„êµ¬ í™•ì¥

#### DroidRunì´ë€?

ğŸ“– **DroidRun**
â”œâ”€ **ì •ì˜**: Android/iOS ê¸°ê¸°ë¥¼ ìì—°ì–´ë¡œ ì œì–´í•˜ëŠ” ì „ë¬¸ í”„ë ˆì„ì›Œí¬ (ëª¨ë°”ì¼ ìë™í™” ì „ë¬¸ê°€)
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ìŠ¤ë§ˆíŠ¸í°ì„ ì¡°ì‘í•˜ëŠ” ë¡œë´‡ ì†ê°€ë½. "ì—¬ê¸° ëˆ„ë¥´ê³ , ì €ê¸° ìŠ¤ì™€ì´í”„í•˜ê³ "ë¥¼ LLMì´ íŒë‹¨
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  1. í™”ë©´ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ â†’ 2. UI ìš”ì†Œ ë¶„ì„ (ë²„íŠ¼, ì…ë ¥ë€ ë“±)
â”‚  â†’ 3. LLMì´ "ë‹¤ìŒì— ë­˜ í• ì§€" ê²°ì • â†’ 4. ADB/Portalë¡œ ì‹¤ì œ ì¡°ì‘ ì‹¤í–‰
â”‚  â†’ 5. ê²°ê³¼ í™•ì¸ í›„ ë°˜ë³µ
â””â”€ **ì¡´ì¬ ì´ìœ **: ì›¹ì´ ì•„ë‹Œ ë„¤ì´í‹°ë¸Œ ëª¨ë°”ì¼ ì•±(ë„¤ì´ë²„, ì¸ìŠ¤íƒ€ ë“±)ì€ ë¸Œë¼ìš°ì € ìë™í™”ë¡œ ì œì–´ ë¶ˆê°€

**í•µì‹¬ íŠ¹ì§•:**
- âœ… AndroidWorld ë²¤ì¹˜ë§ˆí¬ 43% ì„±ê³µë¥  (1ìœ„)
- âœ… LLM agnostic (OpenAI, Anthropic, Gemini, Ollama ëª¨ë‘ ì§€ì›)
- âœ… Reflection ê¸°ëŠ¥ (ì‹¤íŒ¨ì—ì„œ í•™ìŠµ)
- âœ… iOSë„ ì§€ì› (ì•„ì§ ë² íƒ€)
- âœ… ì‹¤ì œ ê¸°ê¸° & ì—ë®¬ë ˆì´í„° ëª¨ë‘ ì œì–´ ê°€ëŠ¥

### 1.3 í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
/home/tlswkehd/projects/agent/
â”‚
â”œâ”€â”€ OpenManus/                # ë©”ì¸ AI ì—ì´ì „íŠ¸ í”„ë ˆì„ì›Œí¬
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ agent/           # ğŸ§  ì—ì´ì „íŠ¸ ì½”ì–´ ë¡œì§
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py      #    - ëª¨ë“  ì—ì´ì „íŠ¸ì˜ ê¸°ë³¸ í´ë˜ìŠ¤
â”‚   â”‚   â”‚   â”œâ”€â”€ react.py     #    - ReAct íŒ¨ëŸ¬ë‹¤ì„ êµ¬í˜„
â”‚   â”‚   â”‚   â”œâ”€â”€ toolcall.py  #    - ë„êµ¬ í˜¸ì¶œ ê´€ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ manus.py     #    - ìµœì¢… í†µí•© ì—ì´ì „íŠ¸
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ tool/            # ğŸ› ï¸ ì‹¤í–‰ ë„êµ¬ë“¤
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py      #    - ë„êµ¬ ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤
â”‚   â”‚   â”‚   â”œâ”€â”€ browser_use_tool.py  # - ì›¹ ë¸Œë¼ìš°ì € ìë™í™”
â”‚   â”‚   â”‚   â”œâ”€â”€ python_execute.py    # - Python ì½”ë“œ ì‹¤í–‰
â”‚   â”‚   â”‚   â””â”€â”€ search/      #    - ê²€ìƒ‰ ì—”ì§„ ë„êµ¬ë“¤
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ llm.py           # ğŸ’¬ LLM í´ë¼ì´ì–¸íŠ¸ (GPT, Claude ë“±)
â”‚   â”‚   â”œâ”€â”€ config.py        # âš™ï¸ ì„¤ì • ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ schema.py        # ğŸ“Š ë°ì´í„° êµ¬ì¡° ì •ì˜
â”‚   â”‚
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ config.toml      # ğŸ“ ì„¤ì • íŒŒì¼ (API í‚¤ ë“±)
â”‚   â”‚
â”‚   â”œâ”€â”€ main.py              # ğŸš€ ì§„ì…ì 
â”‚   â”œâ”€â”€ run_mcp.py           # ğŸ”Œ MCP ëª¨ë“œ ì‹¤í–‰
â”‚   â””â”€â”€ requirements.txt     # ğŸ“¦ ì˜ì¡´ì„± ëª©ë¡
â”‚
â”œâ”€â”€ droidrun/                # ëª¨ë°”ì¼ ìë™í™” í”„ë ˆì„ì›Œí¬
â”‚   â””â”€â”€ droidrun/
â”‚       â”œâ”€â”€ agent/           # ğŸ¤– ëª¨ë°”ì¼ ì—ì´ì „íŠ¸
â”‚       â”‚   â”œâ”€â”€ droid/       #    - DroidAgent (ë©”ì¸)
â”‚       â”‚   â”œâ”€â”€ manager/     #    - ì‘ì—… ê³„íš ê´€ë¦¬
â”‚       â”‚   â””â”€â”€ executor/    #    - ì‹¤ì œ ì¡°ì‘ ì‹¤í–‰
â”‚       â”‚
â”‚       â”œâ”€â”€ tools/           # ğŸ“± ëª¨ë°”ì¼ ì œì–´ ë„êµ¬
â”‚       â”‚   â”œâ”€â”€ adb.py       #    - ADB ëª…ë ¹ì–´ ë˜í¼
â”‚       â”‚   â”œâ”€â”€ portal_client.py # - Portal ì•± í†µì‹ 
â”‚       â”‚   â””â”€â”€ tools.py     #    - UI ì¡°ì‘ ë„êµ¬ë“¤
â”‚       â”‚
â”‚       â””â”€â”€ config/          # âš™ï¸ ì„¤ì •
â”‚
â””â”€â”€ docs/                    # ğŸ“„ í”„ë¡œì íŠ¸ ë¬¸ì„œ
    â”œâ”€â”€ chat-claude-1.md     #    - ì´ˆê¸° ë¶„ì„ ë¬¸ì„œ
    â”œâ”€â”€ chat-claude-2.md     #    - êµ¬í˜„ ê³„íš ë¬¸ì„œ
    â””â”€â”€ project-complete-guide.md  # â† í˜„ì¬ ë¬¸ì„œ
```

### 1.4 í•µì‹¬ ê°œë… ì‚¬ì „

ì´ í”„ë¡œì íŠ¸ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ë°˜ë“œì‹œ ì•Œì•„ì•¼ í•  ìš©ì–´ë“¤ì„ ë¨¼ì € ì •ë¦¬í•©ë‹ˆë‹¤.

#### Agent (ì—ì´ì „íŠ¸)

ğŸ“– **AI Agent (AI ì—ì´ì „íŠ¸)**
â”œâ”€ **ì •ì˜**: ëª©í‘œë¥¼ ì´í•´í•˜ê³  ìŠ¤ìŠ¤ë¡œ íŒë‹¨í•˜ë©° í–‰ë™ì„ ì·¨í•˜ëŠ” AI í”„ë¡œê·¸ë¨
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ìë™ ìš´ì „ ì‹œìŠ¤í…œ. ëª©ì ì§€ë§Œ ì•Œë ¤ì£¼ë©´ ìŠ¤ìŠ¤ë¡œ ê¸¸ì„ ì°¾ê³ , ì‹ í˜¸ë¥¼ ë³´ê³ , í•¸ë“¤ì„ ì¡°ì‘
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  - ì…ë ¥: ëª©í‘œ ("ê°•ë‚¨ì—­ìœ¼ë¡œ ê°€ì¤˜")
â”‚  - ë‚´ë¶€ ì‚¬ê³ : "í˜„ì¬ ìœ„ì¹˜ëŠ”? ìµœì  ê²½ë¡œëŠ”? êµí†µ ìƒí™©ì€?"
â”‚  - ë„êµ¬ ì‚¬ìš©: ë‚´ë¹„ê²Œì´ì…˜, ë¸Œë ˆì´í¬, ê°€ì†
â”‚  - ì‹¤í–‰: ë‹¨ê³„ì ìœ¼ë¡œ ìš´ì „
â”‚  - í‰ê°€: "ëª©í‘œ ë‹¬ì„±í–ˆë‚˜?" â†’ ë°˜ë³µ
â””â”€ **ì¡´ì¬ ì´ìœ **: ë‹¨ìˆœ ëª…ë ¹ ì‹¤í–‰ì´ ì•„ë‹Œ "ëª©í‘œ ê¸°ë°˜ ììœ¨ í–‰ë™"ì´ í•„ìš”í•œ ë³µì¡í•œ ì‘ì—… í•´ê²°

**ì¼ë°˜ AIì™€ ì—ì´ì „íŠ¸ì˜ ì°¨ì´:**
```
ì¼ë°˜ AI (ChatGPT):
ì‚¬ìš©ì: "ë„¤ì´ë²„ ë¸”ë¡œê·¸ì— ê¸€ ì¨ì¤˜"
AI: "ì¢‹ìŠµë‹ˆë‹¤! ë‹¤ìŒê³¼ ê°™ì€ ê¸€ì„ ì‘ì„±í–ˆìŠµë‹ˆë‹¤: [í…ìŠ¤íŠ¸ ìƒì„±]"
    â†“
    ì—¬ê¸°ì„œ ë! ì‹¤ì œë¡œëŠ” ì•„ë¬´ ì¼ë„ ì•ˆ ì¼ì–´ë‚¨

AI Agent (OpenManus + DroidRun):
ì‚¬ìš©ì: "ë„¤ì´ë²„ ë¸”ë¡œê·¸ì— ê¸€ ì¨ì¤˜"
Agent: 
  1. ë¸Œë¼ìš°ì € ì—´ê³  ê²€ìƒ‰ ì‹¤í–‰ âœ“
  2. ì½˜í…ì¸  ìƒì„± âœ“
  3. Android ì•± ì‹¤í–‰ âœ“
  4. ì‹¤ì œë¡œ ì…ë ¥í•˜ê³  ë°œí–‰ âœ“
    â†“
    ì‹¤ì œë¡œ ë¸”ë¡œê·¸ì— ê¸€ì´ ë°œí–‰ë¨!
```

#### ReAct

ğŸ“– **ReAct (Reasoning + Acting)**
â”œâ”€ **ì •ì˜**: AIê°€ "ìƒê°(Reasoning)"ê³¼ "í–‰ë™(Acting)"ì„ ë²ˆê°ˆì•„ ìˆ˜í–‰í•˜ëŠ” ì—ì´ì „íŠ¸ íŒ¨ëŸ¬ë‹¤ì„
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ìš”ë¦¬í•˜ëŠ” ê³¼ì •
â”‚  - ìƒê°: "ë‹¤ìŒì—” ì–‘íŒŒë¥¼ ë³¶ì•„ì•¼ê² ë‹¤"
â”‚  - í–‰ë™: ì–‘íŒŒë¥¼ í”„ë¼ì´íŒ¬ì— ë„£ê³  ë³¶ìŒ
â”‚  - ê´€ì°°: "ì–‘íŒŒê°€ íˆ¬ëª…í•´ì¡Œë„¤"
â”‚  - ìƒê°: "ì´ì œ ê³ ê¸°ë¥¼ ë„£ì„ ì°¨ë¡€ì•¼"
â”‚  - í–‰ë™: ê³ ê¸° íˆ¬ì…
â”‚  (ë°˜ë³µ...)
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  Think (ì‚¬ê³ ) â†’ Act (í–‰ë™) â†’ Observe (ê´€ì°°)
â”‚      â†‘                                   â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: í•œ ë²ˆì— ëª¨ë“  ê±¸ ê³„íší•˜ê¸° ì–´ë ¤ìš´ ë™ì  í™˜ê²½ì—ì„œ "ë‹¨ê³„ì ìœ¼ë¡œ ìƒê°í•˜ê³  ì¡°ì •"í•˜ê¸° ìœ„í•´

**ì½”ë“œë¡œ ë³´ëŠ” ReAct:**
```python
# OpenManusì˜ ReActAgent
class ReActAgent(BaseAgent):
    async def step(self):
        # 1. Think: í˜„ì¬ ìƒí™© ë¶„ì„ & ë‹¤ìŒ í–‰ë™ ê²°ì •
        should_act = await self.think()
        
        # 2. Act: ê²°ì •í•œ í–‰ë™ ì‹¤í–‰
        if should_act:
            return await self.act()
```

#### Tool (ë„êµ¬)

ğŸ“– **Tool (ë„êµ¬)**
â”œâ”€ **ì •ì˜**: ì—ì´ì „íŠ¸ê°€ ì‹¤ì œ ì„¸ê³„ì™€ ìƒí˜¸ì‘ìš©í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” "ì†ê³¼ ë°œ" ê°™ì€ ê¸°ëŠ¥ ëª¨ë“ˆ
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ì˜ì‚¬ì˜ ì˜ë£Œ ê¸°êµ¬
â”‚  - ì²­ì§„ê¸°: ì‹¬ì¥ ì†Œë¦¬ ë“£ê¸° (ì •ë³´ ìˆ˜ì§‘)
â”‚  - ì£¼ì‚¬ê¸°: ì•½ë¬¼ ì£¼ì… (ì‹¤í–‰)
â”‚  - X-ray: ë‚´ë¶€ ì´¬ì˜ (ë¶„ì„)
â”‚  - ê° ë„êµ¬ëŠ” íŠ¹ì • ëª©ì ì— íŠ¹í™”ë¨
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  LLM íŒë‹¨: "ì´ ì‘ì—…ì—” ë¸Œë¼ìš°ì € ë„êµ¬ê°€ í•„ìš”í•´"
â”‚      â†“
â”‚  ë„êµ¬ ì„ íƒ: BrowserUseTool
â”‚      â†“
â”‚  ë„êµ¬ ì‹¤í–‰: playwrightë¡œ ì›¹ì‚¬ì´íŠ¸ ì—´ê¸°
â”‚      â†“
â”‚  ê²°ê³¼ ë°˜í™˜: "ì›¹ì‚¬ì´íŠ¸ ë‚´ìš©: ..."
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: LLMì€ "ìƒê°"ë§Œ í•  ìˆ˜ ìˆê³  ì‹¤ì œ "í–‰ë™"ì€ ë„êµ¬ê°€ ëŒ€ì‹  ìˆ˜í–‰

**OpenManusì˜ ì£¼ìš” ë„êµ¬:**
- `BrowserUseTool`: ì›¹ ë¸Œë¼ìš°ì € ìë™í™” (Playwright)
- `PythonExecute`: Python ì½”ë“œ ì‹¤í–‰
- `StrReplaceEditor`: íŒŒì¼ í¸ì§‘
- `AskHuman`: ì‚¬ìš©ìì—ê²Œ ì§ˆë¬¸

**DroidRunì˜ ì£¼ìš” ë„êµ¬:**
- `tap`: í™”ë©´ í„°ì¹˜
- `swipe`: ìŠ¤ì™€ì´í”„
- `input_text`: í…ìŠ¤íŠ¸ ì…ë ¥
- `screenshot`: í™”ë©´ ìº¡ì²˜

#### MCP (Model Context Protocol)

ğŸ“– **MCP (Model Context Protocol)**
â”œâ”€ **ì •ì˜**: AIì™€ ì™¸ë¶€ ë„êµ¬/ë°ì´í„°ë¥¼ ì—°ê²°í•˜ëŠ” í‘œì¤€ í”„ë¡œí† ì½œ (Anthropic ê°œë°œ)
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: USB ê·œê²©
â”‚  - USB ì´ì „: í”„ë¦°í„°ë§ˆë‹¤ ë‹¤ë¥¸ ì¼€ì´ë¸” í•„ìš” â†’ í˜¼ë€
â”‚  - USB ì´í›„: í•˜ë‚˜ì˜ í‘œì¤€ìœ¼ë¡œ ëª¨ë“  ì¥ì¹˜ ì—°ê²° â†’ í¸ë¦¬
â”‚  - MCPë„ ë§ˆì°¬ê°€ì§€ë¡œ "AI-ë„êµ¬ ì—°ê²° í‘œì¤€"
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  AI Agent â†â”€â”€MCP Protocolâ”€â”€â†’ ì™¸ë¶€ ì„œë¹„ìŠ¤
â”‚                                â”œâ”€ Notion
â”‚                                â”œâ”€ Google Drive
â”‚                                â”œâ”€ Slack
â”‚                                â””â”€ Database
â”‚  ```
â”‚  1. ì„œë¹„ìŠ¤ê°€ MCP ì„œë²„ë¡œ ê¸°ëŠ¥ ê³µê°œ
â”‚  2. AIê°€ MCP í´ë¼ì´ì–¸íŠ¸ë¡œ ì—°ê²°
â”‚  3. ìì—°ì–´ë¡œ ì„œë¹„ìŠ¤ ê¸°ëŠ¥ ì‚¬ìš©
â””â”€ **ì¡´ì¬ ì´ìœ **: ê° ì„œë¹„ìŠ¤ë§ˆë‹¤ ë³„ë„ API í†µí•© ì½”ë“œ ì‘ì„± ë¶ˆí•„ìš”, í•œ ë²ˆì˜ MCP ì—°ê²°ë¡œ í•´ê²°

#### LLM (Large Language Model)

ğŸ“– **LLM (ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸)**
â”œâ”€ **ì •ì˜**: ëŒ€ëŸ‰ì˜ í…ìŠ¤íŠ¸ ë°ì´í„°ë¡œ í•™ìŠµëœ ê±°ëŒ€í•œ ì‹ ê²½ë§ ëª¨ë¸ (GPT-4, Claude ë“±)
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ë°±ê³¼ì‚¬ì „ì„ ë‹¤ ì½ì€ ë§¤ìš° ë˜‘ë˜‘í•œ ì¡°ì–¸ì
â”‚  - ì§ˆë¬¸í•˜ë©´ ë‹µë³€
â”‚  - í…ìŠ¤íŠ¸ ì´í•´ & ìƒì„±
â”‚  - í•˜ì§€ë§Œ ìŠ¤ìŠ¤ë¡œëŠ” ì•„ë¬´ í–‰ë™ë„ ëª» í•¨ (ë„êµ¬ í•„ìš”)
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  ì…ë ¥: "ê°•ë‚¨ ë§›ì§‘ ì¶”ì²œí•´ì¤˜"
â”‚    â†“
â”‚  [ìˆ˜ì‹­ì–µ ê°œì˜ ë‰´ëŸ° í™œì„±í™”]
â”‚    â†“
â”‚  ì¶œë ¥: "1. XXì‹ë‹¹ - í•œì‹, ê°€ì„±ë¹„ ì¢‹ìŒ..."
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: ìì—°ì–´ë¥¼ ì´í•´í•˜ê³  ë§¥ë½ì— ë§ëŠ” íŒë‹¨ì„ ë‚´ë¦¬ê¸° ìœ„í•´

**í”„ë¡œì íŠ¸ì—ì„œ LLMì˜ ì—­í• :**
- OpenManus: ì‘ì—… ê³„íš, ë„êµ¬ ì„ íƒ, ê²°ê³¼ í•´ì„
- DroidRun: í™”ë©´ ë¶„ì„, ë‹¤ìŒ ì¡°ì‘ ê²°ì •

---

## 2. OpenManus ì™„ì „ ë¶„ì„

> **"3ì‹œê°„ ë§Œì— ë§Œë“¤ì–´ì§„ ë²”ìš© AI ì—ì´ì „íŠ¸ í”„ë ˆì„ì›Œí¬"**

### 2.1 ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    OpenManus êµ¬ì¡°ë„                       â”‚
â”‚                                                          â”‚
â”‚  ì‚¬ìš©ì â†’ main.py â†’ Manus ì—ì´ì „íŠ¸                        â”‚
â”‚                        â”‚                                 â”‚
â”‚                        â”œâ”€ ìƒì† ê³„ì¸µ                       â”‚
â”‚                        â”‚  BaseAgent                      â”‚
â”‚                        â”‚      â†“                          â”‚
â”‚                        â”‚  ReActAgent                     â”‚
â”‚                        â”‚      â†“                          â”‚
â”‚                        â”‚  ToolCallAgent                  â”‚
â”‚                        â”‚      â†“                          â”‚
â”‚                        â”‚  Manus                          â”‚
â”‚                        â”‚                                 â”‚
â”‚                        â”œâ”€ í•µì‹¬ ì»´í¬ë„ŒíŠ¸                   â”‚
â”‚                        â”‚  â”œâ”€ LLM (ëŒ€í™” & íŒë‹¨)           â”‚
â”‚                        â”‚  â”œâ”€ Memory (ëŒ€í™” ê¸°ë¡)          â”‚
â”‚                        â”‚  â”œâ”€ ToolCollection (ë„êµ¬ ëª¨ìŒ)  â”‚
â”‚                        â”‚  â””â”€ MCPClients (ì™¸ë¶€ ì—°ë™)      â”‚
â”‚                        â”‚                                 â”‚
â”‚                        â””â”€ ì‹¤í–‰ ì‚¬ì´í´                     â”‚
â”‚                           run() â†’ step() â†’ think() â†’ act()
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 í•µì‹¬ í´ë˜ìŠ¤ ìƒì„¸ ë¶„ì„

#### 2.2.1 BaseAgent - ëª¨ë“  ì—ì´ì „íŠ¸ì˜ ê¸°ë°˜

**íŒŒì¼ ìœ„ì¹˜:** `app/agent/base.py`

ğŸ“– **BaseAgent**
â”œâ”€ **ì •ì˜**: ëª¨ë“  ì—ì´ì „íŠ¸ê°€ ìƒì†ë°›ëŠ” ì¶”ìƒ ê¸°ë³¸ í´ë˜ìŠ¤. ì—ì´ì „íŠ¸ì˜ "ìƒëª…ì£¼ê¸°"ë¥¼ ê´€ë¦¬
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ë¡œë´‡ì˜ ê¸°ë³¸ í”„ë ˆì„
â”‚  - ì „ì› ON/OFF (ìƒíƒœ ê´€ë¦¬)
â”‚  - ë©”ëª¨ë¦¬ (ê¸°ì–µ ì¥ì¹˜)
â”‚  - ì„¼ì„œ ì…ë ¥ ì²˜ë¦¬
â”‚  - í•˜ì§€ë§Œ "ì–´ë–»ê²Œ ì›€ì§ì¼ì§€"ëŠ” êµ¬ì²´ì  ë¡œë´‡ë§ˆë‹¤ ë‹¤ë¦„ (ì¶”ìƒ ë©”ì„œë“œ)
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```python
â”‚  async def run(self, request):
â”‚      """ì—ì´ì „íŠ¸ ì‹¤í–‰ ë©”ì¸ ë£¨í”„"""
â”‚      while í˜„ì¬_ë‹¨ê³„ < ìµœëŒ€_ë‹¨ê³„:
â”‚          ê²°ê³¼ = await self.step()  # ì¶”ìƒ ë©”ì„œë“œ (ìì‹ì´ êµ¬í˜„)
â”‚          
â”‚          if ë¬´í•œ_ë£¨í”„_ê°ì§€():
â”‚              ì „ëµ_ë³€ê²½_ìœ ë„()
â”‚              
â”‚          if ì‘ì—…_ì™„ë£Œ:
â”‚              break
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: ëª¨ë“  ì—ì´ì „íŠ¸ê°€ ê³µí†µìœ¼ë¡œ í•„ìš”í•œ ê¸°ëŠ¥(ìƒíƒœ, ë©”ëª¨ë¦¬, ë£¨í”„)ì„ í•œ ê³³ì—ì„œ ê´€ë¦¬

**ì£¼ìš” ì†ì„±:**
```python
class BaseAgent(BaseModel, ABC):
    # ì •ì²´ì„±
    name: str                    # ì—ì´ì „íŠ¸ ì´ë¦„
    description: str             # ì„¤ëª…
    
    # í•µì‹¬ í”„ë¡¬í”„íŠ¸
    system_prompt: str           # ì‹œìŠ¤í…œ ì§€ì‹œì‚¬í•­
    next_step_prompt: str        # ë‹¤ìŒ ë‹¨ê³„ ê°€ì´ë“œ
    
    # í•„ìˆ˜ ì»´í¬ë„ŒíŠ¸
    llm: LLM                     # ì–¸ì–´ ëª¨ë¸
    memory: Memory               # ëŒ€í™” ê¸°ë¡ ì €ì¥ì†Œ
    state: AgentState            # í˜„ì¬ ìƒíƒœ (IDLE, RUNNING, ERROR ë“±)
    
    # ì‹¤í–‰ ì œì–´
    max_steps: int = 10          # ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜
    current_step: int = 0        # í˜„ì¬ ë‹¨ê³„
    duplicate_threshold: int = 2 # ë¬´í•œ ë£¨í”„ ê°ì§€ ê¸°ì¤€
```

**ì£¼ìš” ë©”ì„œë“œ:**

1. **`run(request)` - ë©”ì¸ ì‹¤í–‰ ë£¨í”„**
```python
async def run(self, request: str) -> str:
    """
    ì—ì´ì „íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ë©”ì¸ í•¨ìˆ˜
    
    ë™ì‘ ê³¼ì •:
    1. ì‚¬ìš©ì ìš”ì²­ì„ ë©”ëª¨ë¦¬ì— ì €ì¥
    2. ìµœëŒ€ ë‹¨ê³„ê¹Œì§€ ë°˜ë³µ:
       - step() ì‹¤í–‰ (ê° ì—ì´ì „íŠ¸ê°€ êµ¬í˜„)
       - ë¬´í•œ ë£¨í”„ ê°ì§€ (ê°™ì€ ì‘ë‹µ ë°˜ë³µ)
       - ì™„ë£Œ ì¡°ê±´ í™•ì¸
    3. ê²°ê³¼ ë°˜í™˜
    """
    # ì‚¬ìš©ì ë©”ì‹œì§€ ì €ì¥
    self.update_memory("user", request)
    
    # ë©”ì¸ ë£¨í”„
    while self.current_step < self.max_steps:
        self.current_step += 1
        
        # í•œ ë‹¨ê³„ ì‹¤í–‰ (ìì‹ í´ë˜ìŠ¤ê°€ êµ¬í˜„)
        result = await self.step()
        
        # ë¬´í•œ ë£¨í”„ ê°ì§€
        if self.is_stuck():
            self.handle_stuck_state()
            
    return "ì‘ì—… ì™„ë£Œ"
```

ğŸ“– **ë¬´í•œ ë£¨í”„ ê°ì§€ (Stuck Detection)**
â”œâ”€ **ì •ì˜**: ì—ì´ì „íŠ¸ê°€ ê°™ì€ í–‰ë™ì„ ë°˜ë³µí•´ ì§„ì „ì´ ì—†ëŠ” ìƒíƒœë¥¼ ìë™ ê°ì§€
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: GPSê°€ "ìœ í„´í•˜ì„¸ìš”"ë§Œ ê³„ì† ë°˜ë³µí•˜ëŠ” ìƒí™©
â”‚  - ê°ì§€: "ì´ ë§ì„ 3ë²ˆì§¸ ë“£ëŠ”ë°?"
â”‚  - ëŒ€ì‘: "ê²½ë¡œë¥¼ ë‹¤ì‹œ ì°¾ê² ìŠµë‹ˆë‹¤"
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  ìµœê·¼ ì‘ë‹µë“¤ì˜ í•´ì‹œê°’ ë¹„êµ
â”‚  â†’ ë™ì¼í•œ ì‘ë‹µì´ threshold(ê¸°ë³¸ 2íšŒ) ì´ìƒ ë°˜ë³µ
â”‚  â†’ "ì „ëµì„ ë°”ê¾¸ì„¸ìš”" í”„ë¡¬í”„íŠ¸ ì¶”ê°€
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: LLMì´ ë§‰í ë•Œ ë¬´í•œíˆ ê°™ì€ ì‹œë„ë¥¼ ë°˜ë³µí•˜ë©° í† í° ë‚­ë¹„í•˜ëŠ” ê²ƒ ë°©ì§€

2. **`update_memory(role, content)` - ë©”ëª¨ë¦¬ ê´€ë¦¬**
```python
def update_memory(self, role, content):
    """
    ëŒ€í™” ë‚´ì—­ì„ ë©”ëª¨ë¦¬ì— ì¶”ê°€
    
    role ì¢…ë¥˜:
    - "user": ì‚¬ìš©ì ë©”ì‹œì§€
    - "assistant": ì—ì´ì „íŠ¸ ì‘ë‹µ
    - "system": ì‹œìŠ¤í…œ ì§€ì‹œì‚¬í•­
    - "tool": ë„êµ¬ ì‹¤í–‰ ê²°ê³¼
    """
    message = Message.create(role=role, content=content)
    self.memory.add_message(message)
```

ğŸ“– **Memory (ë©”ëª¨ë¦¬)**
â”œâ”€ **ì •ì˜**: ì—ì´ì „íŠ¸ì™€ì˜ ëª¨ë“  ëŒ€í™”ë¥¼ ì €ì¥í•˜ëŠ” "ê¸°ì–µ ì €ì¥ì†Œ"
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ëŒ€í™” ë…¹ìŒê¸°
â”‚  - ì‚¬ìš©ìê°€ ë­ë¼ê³  í–ˆëŠ”ì§€
â”‚  - ë‚´ê°€ ë­ë¼ê³  ë‹µí–ˆëŠ”ì§€
â”‚  - ë¬´ìŠ¨ ë„êµ¬ë¥¼ ì¼ëŠ”ì§€
â”‚  - ëª¨ë“  ê²Œ ì‹œê°„ ìˆœì„œëŒ€ë¡œ ê¸°ë¡ë¨
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  [
â”‚    {"role": "user", "content": "ê°•ë‚¨ ë§›ì§‘ ì°¾ì•„ì¤˜"},
â”‚    {"role": "assistant", "content": "êµ¬ê¸€ ê²€ìƒ‰ì„ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤"},
â”‚    {"role": "tool", "content": "ê²€ìƒ‰ ê²°ê³¼: ..."},
â”‚    {"role": "assistant", "content": "ì´ 10ê°œ ë°œê²¬í–ˆìŠµë‹ˆë‹¤"}
â”‚  ]
â”‚  ```
â”‚  ë§¤ LLM í˜¸ì¶œ ì‹œ ì „ì²´ ë©”ëª¨ë¦¬ë¥¼ í•¨ê»˜ ì „ë‹¬ â†’ ì»¨í…ìŠ¤íŠ¸ ìœ ì§€
â””â”€ **ì¡´ì¬ ì´ìœ **: LLMì€ ìƒíƒœë¥¼ ê¸°ì–µí•˜ì§€ ëª»í•˜ë¯€ë¡œ, ëŒ€í™” íë¦„ì„ ìœ ì§€í•˜ë ¤ë©´ ì´ì „ ë‚´ìš©ì„ ê³„ì† ì œê³µí•´ì•¼ í•¨

3. **`step()` - ì¶”ìƒ ë©”ì„œë“œ**
```python
@abstractmethod
async def step(self) -> str:
    """
    í•œ ë‹¨ê³„ë¥¼ ì‹¤í–‰ (ìì‹ í´ë˜ìŠ¤ê°€ ë°˜ë“œì‹œ êµ¬í˜„)
    
    BaseAgentëŠ” "ì–¸ì œ" ì‹¤í–‰í• ì§€ë§Œ ê´€ë¦¬
    "ì–´ë–»ê²Œ" ì‹¤í–‰í• ì§€ëŠ” ê° ì—ì´ì „íŠ¸ê°€ ê²°ì •
    """
    pass
```

#### 2.2.2 ReActAgent - ì‚¬ê³ ì™€ í–‰ë™ì˜ ë¶„ë¦¬

**íŒŒì¼ ìœ„ì¹˜:** `app/agent/react.py`

ğŸ“– **ReActAgent**
â”œâ”€ **ì •ì˜**: ReAct íŒ¨ëŸ¬ë‹¤ì„ì„ êµ¬í˜„í•œ ì—ì´ì „íŠ¸ (BaseAgent ìƒì†)
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ì²´ìŠ¤ ê²Œì„
â”‚  - Think: "ìƒëŒ€ê°€ ì €ë ‡ê²Œ ë‚˜ì˜¤ë©´... ì´ ìˆ˜ë¥¼ ë‘¬ì•¼ê² ë‹¤" (ì‚¬ê³ )
â”‚  - Act: ì‹¤ì œë¡œ ë§ì„ ì´ë™ (í–‰ë™)
â”‚  - Observe: ìƒëŒ€ì˜ ë°˜ì‘ í™•ì¸ (ê´€ì°°)
â”‚  - ë‹¤ì‹œ Think...
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  step() {
â”‚      should_act = think()  // ìƒê°: "ë‹¤ìŒ ë­ í• ê¹Œ?"
â”‚      if should_act:
â”‚          return act()      // í–‰ë™: "ê²°ì •í•œ ê±° ì‹¤í–‰!"
â”‚  }
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: "ìƒê°"ê³¼ "í–‰ë™"ì„ ëª…í™•íˆ ë¶„ë¦¬í•´ ì—ì´ì „íŠ¸ ë¡œì§ì„ ë‹¨ìˆœí•˜ê³  ì´í•´í•˜ê¸° ì‰½ê²Œ

**í•µì‹¬ êµ¬ì¡°:**
```python
class ReActAgent(BaseAgent):
    @abstractmethod
    async def think(self) -> bool:
        """
        í˜„ì¬ ìƒí™© ë¶„ì„ & ë‹¤ìŒ í–‰ë™ ê²°ì •
        
        ë°˜í™˜ê°’:
        - True: í–‰ë™ì´ í•„ìš”í•¨
        - False: í–‰ë™ ë¶ˆí•„ìš” (ê´€ì°°ë§Œ í•˜ê±°ë‚˜ ì™„ë£Œë¨)
        """
        pass
    
    @abstractmethod
    async def act(self) -> str:
        """
        think()ì—ì„œ ê²°ì •í•œ í–‰ë™ì„ ì‹¤ì œë¡œ ì‹¤í–‰
        
        ë°˜í™˜ê°’: ì‹¤í–‰ ê²°ê³¼ (ë‹¤ìŒ thinkì˜ ì…ë ¥ìœ¼ë¡œ ì‚¬ìš©)
        """
        pass
    
    async def step(self) -> str:
        """
        BaseAgentì˜ step() êµ¬í˜„
        
        ReAct ì‚¬ì´í´ í•œ ë²ˆ ëŒë¦¬ê¸°:
        Think â†’ Act â†’ (ObserveëŠ” act ê²°ê³¼ë¡œ ìë™)
        """
        should_act = await self.think()
        
        if not should_act:
            return "ìƒê°ë§Œ í•˜ê³  ë (í–‰ë™ ë¶ˆí•„ìš”)"
            
        return await self.act()
```

**ì‹¤í–‰ íë¦„ ì˜ˆì‹œ:**
```
[Step 1]
Think: "ì‚¬ìš©ìê°€ ë§›ì§‘ì„ ì°¾ìœ¼ë¼ê³  í–ˆë„¤. êµ¬ê¸€ ê²€ìƒ‰ ë„êµ¬ë¥¼ ì¨ì•¼ê² ë‹¤"
  â†’ should_act = True
Act: GoogleSearchTool.execute("ê°•ë‚¨ ë§›ì§‘")
  â†’ ê²°ê³¼: "10ê°œ ë¸”ë¡œê·¸ ë°œê²¬"

[Step 2] 
Think: "ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë°›ì•˜ìœ¼ë‹ˆ, ì´ì œ ë¸Œë¼ìš°ì €ë¡œ ê° ë¸”ë¡œê·¸ë¥¼ ë°©ë¬¸í•´ì•¼ê² ë‹¤"
  â†’ should_act = True
Act: BrowserUseTool.execute("ì²« ë²ˆì§¸ ë¸”ë¡œê·¸ URL")
  â†’ ê²°ê³¼: "ë¸”ë¡œê·¸ ë‚´ìš© ì¶”ì¶œ ì™„ë£Œ"

[Step 3]
Think: "ì¶©ë¶„í•œ ì •ë³´ë¥¼ ëª¨ì•˜ìœ¼ë‹ˆ, ì´ì œ ìš”ì•½í•´ì„œ ì‚¬ìš©ìì—ê²Œ ë³´ê³ "
  â†’ should_act = False (ë„êµ¬ ì‚¬ìš© ë¶ˆí•„ìš”, í…ìŠ¤íŠ¸ë§Œ ìƒì„±)
```

#### 2.2.3 ToolCallAgent - ë„êµ¬ ì‚¬ìš©ì˜ ë‹¬ì¸

**íŒŒì¼ ìœ„ì¹˜:** `app/agent/toolcall.py`

ğŸ“– **ToolCallAgent**
â”œâ”€ **ì •ì˜**: ReActAgentë¥¼ í™•ì¥í•´ "ë„êµ¬ í˜¸ì¶œ" ê¸°ëŠ¥ì„ ì¶”ê°€í•œ ì—ì´ì „íŠ¸
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ë‹¤ê¸°ëŠ¥ ìŠ¤ìœ„ìŠ¤ ì•„ë¯¸ ë‚˜ì´í”„
â”‚  - Think: "ì´ ì‘ì—…ì—” ë³‘ë”°ê°œê°€ í•„ìš”í•´" (ë„êµ¬ ì„ íƒ)
â”‚  - Act: ë³‘ë”°ê°œë¥¼ êº¼ë‚´ì„œ ì‚¬ìš© (ë„êµ¬ ì‹¤í–‰)
â”‚  - ì—¬ëŸ¬ ë„êµ¬ ì¤‘ ìƒí™©ì— ë§ëŠ” ê²ƒ ìë™ ì„ íƒ
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  LLMì—ê²Œ ì§ˆë¬¸: "ì´ ì‘ì—…ì— ì–´ë–¤ ë„êµ¬ë¥¼ ì“¸ê¹Œ?"
â”‚  LLM ì‘ë‹µ: {
â”‚    "tool_calls": [
â”‚      {"name": "BrowserUseTool", "arguments": {...}}
â”‚    ]
â”‚  }
â”‚  â†’ ë„êµ¬ ì‹¤í–‰
â”‚  â†’ ê²°ê³¼ë¥¼ ë‹¤ì‹œ LLMì—ê²Œ
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: LLMì€ "ìƒê°"ë§Œ í•˜ê³  ì‹¤ì œ "í–‰ë™"ì€ ë„êµ¬ê°€ í•´ì•¼ í•˜ë¯€ë¡œ, ë„êµ¬ ì„ íƒ ë° ì‹¤í–‰ ë¡œì§ í•„ìš”

**í•µì‹¬ ì†ì„±:**
```python
class ToolCallAgent(ReActAgent):
    # ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬ ëª©ë¡
    available_tools: ToolCollection = ToolCollection(
        CreateChatCompletion(),  # ì¼ë°˜ ëŒ€í™”
        Terminate(),             # ì¢…ë£Œ
        # ìì‹ í´ë˜ìŠ¤ê°€ ë” ì¶”ê°€ ê°€ëŠ¥
    )
    
    # ë„êµ¬ ì‚¬ìš© ì •ì±…
    tool_choices: TOOL_CHOICE_TYPE = ToolChoice.AUTO
    # - AUTO: í•„ìš”í•˜ë©´ ë„êµ¬ ì‚¬ìš©, ì•„ë‹ˆë©´ í…ìŠ¤íŠ¸ë§Œ
    # - REQUIRED: ë°˜ë“œì‹œ ë„êµ¬ ì‚¬ìš©
    # - NONE: ë„êµ¬ ì‚¬ìš© ê¸ˆì§€
    
    # íŠ¹ë³„í•œ ë„êµ¬ë“¤ (ì‹¤í–‰ ì‹œ ì—ì´ì „íŠ¸ ì¢…ë£Œ)
    special_tool_names: List[str] = ["Terminate"]
```

ğŸ“– **ToolCollection (ë„êµ¬ ëª¨ìŒ)**
â”œâ”€ **ì •ì˜**: ì—¬ëŸ¬ ë„êµ¬ë¥¼ ë¬¶ì–´ì„œ ê´€ë¦¬í•˜ëŠ” ì»¨í…Œì´ë„ˆ
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ê³µêµ¬í•¨
â”‚  - ê° ë„êµ¬ì— ì´ë¦„í‘œ ë¶™ì´ê¸°
â”‚  - "ë§ì¹˜ ê°€ì ¸ì™€" â†’ ê³µêµ¬í•¨ì—ì„œ ë§ì¹˜ êº¼ë‚´ê¸°
â”‚  - ìƒˆ ë„êµ¬ ì¶”ê°€/ì œê±° ê°€ëŠ¥
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```python
â”‚  tools = ToolCollection(
â”‚      BrowserUseTool(),
â”‚      PythonExecute()
â”‚  )
â”‚  
â”‚  # ë„êµ¬ ì‹¤í–‰
â”‚  result = await tools.execute(
â”‚      name="BrowserUseTool",
â”‚      tool_input={"url": "https://..."}
â”‚  )
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: ë„êµ¬ê°€ ë§ì•„ì§€ë©´ ê´€ë¦¬ê°€ ë³µì¡í•´ì§€ë¯€ë¡œ, í†µí•© ê´€ë¦¬ì í•„ìš”

**ì£¼ìš” ë©”ì„œë“œ:**

1. **`think()` - ë„êµ¬ ì„ íƒ**
```python
async def think(self) -> bool:
    """
    LLMì—ê²Œ "ì–´ë–¤ ë„êµ¬ë¥¼ ì“¸ì§€" ë¬¼ì–´ë³´ê¸°
    
    ë™ì‘ ê³¼ì •:
    1. í˜„ì¬ ë©”ëª¨ë¦¬(ëŒ€í™” ê¸°ë¡)ì™€ ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬ ëª©ë¡ì„ LLMì—ê²Œ ì „ë‹¬
    2. LLMì´ ë¶„ì„í•´ì„œ ì ì ˆí•œ ë„êµ¬(ë“¤) ì„ íƒ
    3. tool_calls ë¦¬ìŠ¤íŠ¸ì— ì €ì¥
    4. ë©”ëª¨ë¦¬ì— assistant ë©”ì‹œì§€ ì¶”ê°€
    """
    # LLMì—ê²Œ ë„êµ¬ ì„ íƒ ìš”ì²­
    response = await self.llm.ask_tool(
        messages=self.memory.messages,  # ì§€ê¸ˆê¹Œì§€ì˜ ëŒ€í™”
        tools=self.available_tools.to_params(),  # ì‚¬ìš© ê°€ëŠ¥ ë„êµ¬ë“¤
        tool_choice=self.tool_choices  # AUTO/REQUIRED/NONE
    )
    
    # LLMì˜ ì„ íƒ ì €ì¥
    self.tool_calls = response.tool_calls or []
    
    # ë©”ëª¨ë¦¬ì— ê¸°ë¡
    self.memory.add_message(
        Message.from_tool_calls(
            content=response.content,
            tool_calls=self.tool_calls
        )
    )
    
    # ë„êµ¬ ì‚¬ìš©ì´ í•„ìš”í•œê°€?
    return bool(self.tool_calls)
```

**LLMì˜ ë„êµ¬ ì„ íƒ ì˜ˆì‹œ:**
```json
// ì…ë ¥ (LLMì—ê²Œ)
{
  "messages": [
    {"role": "user", "content": "êµ¬ê¸€ì—ì„œ ê°•ë‚¨ ë§›ì§‘ ê²€ìƒ‰í•´ì¤˜"}
  ],
  "tools": [
    {
      "name": "GoogleSearchTool",
      "description": "êµ¬ê¸€ ê²€ìƒ‰ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤",
      "parameters": {"query": "string"}
    },
    {
      "name": "BrowserUseTool",
      "description": "ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ìë™ ì¡°ì‘í•©ë‹ˆë‹¤"
    }
  ]
}

// ì¶œë ¥ (LLMì´)
{
  "content": "êµ¬ê¸€ ê²€ìƒ‰ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤",
  "tool_calls": [
    {
      "id": "call_123",
      "function": {
        "name": "GoogleSearchTool",
        "arguments": "{\"query\": \"ê°•ë‚¨ ë§›ì§‘\"}"
      }
    }
  ]
}
```

2. **`act()` - ë„êµ¬ ì‹¤í–‰**
```python
async def act(self) -> str:
    """
    think()ì—ì„œ ì„ íƒí•œ ë„êµ¬ë“¤ì„ ì‹¤ì œë¡œ ì‹¤í–‰
    
    ë™ì‘ ê³¼ì •:
    1. tool_calls ë¦¬ìŠ¤íŠ¸ ìˆœíšŒ
    2. ê° ë„êµ¬ ì‹¤í–‰
    3. ê²°ê³¼ë¥¼ ë©”ëª¨ë¦¬ì— tool ë©”ì‹œì§€ë¡œ ì €ì¥
    4. ëª¨ë“  ê²°ê³¼ ë³‘í•©í•´ì„œ ë°˜í™˜
    """
    results = []
    
    for tool_call in self.tool_calls:
        # ë„êµ¬ ì‹¤í–‰
        result = await self.execute_tool(tool_call)
        
        # ê²°ê³¼ ì €ì¥
        self.memory.add_message(
            Message.tool_message(
                content=result,
                tool_call_id=tool_call.id,
                name=tool_call.function.name
            )
        )
        
        results.append(result)
    
    return "\n\n".join(results)
```

3. **`execute_tool()` - ë‹¨ì¼ ë„êµ¬ ì‹¤í–‰**
```python
async def execute_tool(self, command: ToolCall) -> str:
    """
    í•˜ë‚˜ì˜ ë„êµ¬ë¥¼ ì•ˆì „í•˜ê²Œ ì‹¤í–‰
    
    ì—ëŸ¬ ì²˜ë¦¬:
    - ë„êµ¬ ì´ë¦„ ì˜¤íƒ€
    - ì˜ëª»ëœ íŒŒë¼ë¯¸í„°
    - ì‹¤í–‰ ì¤‘ ì˜ˆì™¸
    ëª¨ë‘ ìºì¹˜í•´ì„œ ì—ëŸ¬ ë©”ì‹œì§€ ë°˜í™˜
    """
    name = command.function.name
    
    # ë„êµ¬ ì¡´ì¬ í™•ì¸
    if name not in self.available_tools.tool_map:
        return f"âŒ ì˜¤ë¥˜: '{name}' ë„êµ¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
    
    try:
        # JSON íŒŒì‹±
        args = json.loads(command.function.arguments)
        
        # ë„êµ¬ ì‹¤í–‰
        result = await self.available_tools.execute(
            name=name,
            tool_input=args
        )
        
        # íŠ¹ìˆ˜ ë„êµ¬ ì²˜ë¦¬ (Terminate ë“±)
        if self._is_special_tool(name):
            self.state = AgentState.FINISHED
        
        return f"âœ… '{name}' ì‹¤í–‰ ì™„ë£Œ:\n{result}"
        
    except json.JSONDecodeError:
        return f"âŒ ì˜¤ë¥˜: JSON íŒŒì‹± ì‹¤íŒ¨"
    except Exception as e:
        return f"âŒ ì˜¤ë¥˜: {str(e)}"
```

**ì‹¤ì œ ì‹¤í–‰ íë¦„:**
```
ì‚¬ìš©ì: "êµ¬ê¸€ì—ì„œ ê°•ë‚¨ ë§›ì§‘ ê²€ìƒ‰í•˜ê³ , ì²« ë²ˆì§¸ ë¸”ë¡œê·¸ ë‚´ìš© ê°€ì ¸ì™€ì¤˜"

[Step 1]
Think:
  LLM: "ì¼ë‹¨ ê²€ìƒ‰ë¶€í„° í•˜ì"
  â†’ tool_calls = [{"name": "GoogleSearchTool", ...}]

Act:
  GoogleSearchTool.execute(query="ê°•ë‚¨ ë§›ì§‘")
  â†’ ê²°ê³¼: "10ê°œ URL ë°œê²¬"
  ë©”ëª¨ë¦¬ì— ì €ì¥: {"role": "tool", "content": "10ê°œ URL..."}

[Step 2]
Think:
  LLM: "ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë°›ì•˜ìœ¼ë‹ˆ, ì²« ë²ˆì§¸ URLë¡œ ê°€ì"
  â†’ tool_calls = [{"name": "BrowserUseTool", ...}]

Act:
  BrowserUseTool.execute(url="https://blog.naver.com/...")
  â†’ ê²°ê³¼: "ë¸”ë¡œê·¸ í…ìŠ¤íŠ¸ ì¶”ì¶œ ì™„ë£Œ"
  ë©”ëª¨ë¦¬ì— ì €ì¥: {"role": "tool", "content": "ë¸”ë¡œê·¸ ë‚´ìš©..."}

[Step 3]
Think:
  LLM: "ì •ë³´ ì¶©ë¶„. ì‚¬ìš©ìì—ê²Œ ìš”ì•½í•´ì„œ ë³´ê³ "
  â†’ tool_calls = []  (ë„êµ¬ ë¶ˆí•„ìš”, í…ìŠ¤íŠ¸ë§Œ)

Act:
  (ì‹¤í–‰í•˜ì§€ ì•ŠìŒ)
  â†’ LLMì´ ìƒì„±í•œ í…ìŠ¤íŠ¸ë§Œ ë°˜í™˜
```

#### 2.2.4 Manus - ìµœì¢… í†µí•© ì—ì´ì „íŠ¸

**íŒŒì¼ ìœ„ì¹˜:** `app/agent/manus.py`

ğŸ“– **Manus**
â”œâ”€ **ì •ì˜**: ToolCallAgentë¥¼ í™•ì¥í•œ ìµœì¢… ì™„ì„±í˜• ë²”ìš© ì—ì´ì „íŠ¸ (OpenManusì˜ í•µì‹¬)
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ì˜¤ì¼€ìŠ¤íŠ¸ë¼ ì§€íœ˜ì
â”‚  - ì—¬ëŸ¬ ì•…ê¸°(ë„êµ¬)ë¥¼ ì¡°ìœ¨
â”‚  - ì•…ë³´(ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸)ëŒ€ë¡œ ì—°ì£¼ ì§„í–‰
â”‚  - ì¦‰í¥ ì—°ì£¼(ë™ì  ìƒí™© ëŒ€ì‘)ë„ ê°€ëŠ¥
â”‚  - MCPë¡œ ìƒˆ ì•…ê¸°(ì™¸ë¶€ ì„œë¹„ìŠ¤)ë„ ì¶”ê°€ ê°€ëŠ¥
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  Manus = ToolCallAgent
â”‚          + BrowserUseTool (ì›¹ ìë™í™”)
â”‚          + PythonExecute (ì½”ë“œ ì‹¤í–‰)
â”‚          + StrReplaceEditor (íŒŒì¼ í¸ì§‘)
â”‚          + MCPClients (ì™¸ë¶€ ì„œë¹„ìŠ¤)
â”‚          + ë¸Œë¼ìš°ì € ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: ì‹¤ì œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” "ì™„ì œí’ˆ" ì—ì´ì „íŠ¸ (ToolCallAgentëŠ” ì¶”ìƒì )

**í•µì‹¬ ì†ì„±:**
```python
class Manus(ToolCallAgent):
    name: str = "Manus"
    description: str = "ë‹¤ì–‘í•œ ë„êµ¬ë¥¼ ì‚¬ìš©í•´ ë³µì¡í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë²”ìš© ì—ì´ì „íŠ¸"
    
    # ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ (ì—ì´ì „íŠ¸ì˜ "ì„±ê²©"ê³¼ "ì—­í• " ì •ì˜)
    system_prompt: str = """
    ë‹¹ì‹ ì€ Manusì…ë‹ˆë‹¤. 
    ì‚¬ìš©ìì˜ ìš”ì²­ì„ ì´í•´í•˜ê³  ì ì ˆí•œ ë„êµ¬ë¥¼ ì„ íƒí•´ 
    ì‘ì—…ì„ ì™„ìˆ˜í•˜ëŠ” AI ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.
    
    ì‘ì—… ê³µê°„: {workspace_root}
    
    ì›ì¹™:
    1. ë‹¨ê³„ë³„ë¡œ ìƒê°í•˜ê³  í–‰ë™í•˜ì„¸ìš”
    2. ë„êµ¬ ì‚¬ìš© ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”
    3. ì—ëŸ¬ ë°œìƒ ì‹œ ë‹¤ë¥¸ ë°©ë²•ì„ ì‹œë„í•˜ì„¸ìš”
    4. ìµœì¢… ê²°ê³¼ë¥¼ ëª…í™•íˆ ë³´ê³ í•˜ì„¸ìš”
    """
    
    # ê¸°ë³¸ ë„êµ¬ë“¤
    available_tools: ToolCollection = ToolCollection(
        PythonExecute(),        # Python ì½”ë“œ ì‹¤í–‰
        BrowserUseTool(),       # ì›¹ ë¸Œë¼ìš°ì € ìë™í™”
        StrReplaceEditor(),     # íŒŒì¼ í¸ì§‘
        AskHuman(),            # ì‚¬ìš©ìì—ê²Œ ì§ˆë¬¸
        Terminate(),           # ì‘ì—… ì¢…ë£Œ
    )
    
    # MCP í´ë¼ì´ì–¸íŠ¸ (ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—°ë™)
    mcp_clients: MCPClients = MCPClients()
    
    # ë¸Œë¼ìš°ì € ì»¨í…ìŠ¤íŠ¸ í—¬í¼
    browser_context_helper: BrowserContextHelper
    
    # ì‹¤í–‰ ì œì–´
    max_steps: int = 20
    max_observe: int = 10000  # ë„êµ¬ ê²°ê³¼ ìµœëŒ€ ê¸€ì ìˆ˜
```

**ì£¼ìš” ê¸°ëŠ¥:**

1. **MCP ì„œë²„ ì—°ê²°**
```python
async def initialize_mcp_servers(self):
    """
    ì„¤ì • íŒŒì¼ì— ì •ì˜ëœ MCP ì„œë²„ë“¤ì— ìë™ ì—°ê²°
    
    config.toml ì˜ˆì‹œ:
    [mcp_config.servers.notion]
    type = "sse"  # ë˜ëŠ” "stdio"
    url = "https://mcp.notion.com"
    
    [mcp_config.servers.filesystem]
    type = "stdio"
    command = "mcp-server-filesystem"
    args = ["/workspace"]
    """
    for server_id, server_config in config.mcp_config.servers.items():
        if server_config.type == "sse":
            # HTTPë¡œ í†µì‹ í•˜ëŠ” MCP ì„œë²„
            await self.connect_mcp_server(
                server_url=server_config.url,
                server_id=server_id
            )
        elif server_config.type == "stdio":
            # í”„ë¡œì„¸ìŠ¤ë¡œ ì‹¤í–‰ë˜ëŠ” MCP ì„œë²„
            await self.connect_mcp_server(
                server_url=server_config.command,
                server_id=server_id,
                use_stdio=True,
                stdio_args=server_config.args
            )
```

ğŸ“– **MCP SSE vs STDIO**
â”œâ”€ **ì •ì˜**: MCP ì„œë²„ì™€ í†µì‹ í•˜ëŠ” ë‘ ê°€ì§€ ë°©ë²•
â”œâ”€ **SSE (Server-Sent Events)**: 
â”‚  - HTTP ê¸°ë°˜ í†µì‹ 
â”‚  - ì›ê²© ì„œë²„ì™€ ì—°ê²°
â”‚  - ì˜ˆ: í´ë¼ìš°ë“œì—ì„œ ì‹¤í–‰ë˜ëŠ” Notion MCP ì„œë²„
â”œâ”€ **STDIO (Standard Input/Output)**:
â”‚  - ë¡œì»¬ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰
â”‚  - íŒŒì´í”„ë¡œ í†µì‹ 
â”‚  - ì˜ˆ: ë¡œì»¬ íŒŒì¼ì‹œìŠ¤í…œ ì ‘ê·¼ MCP ì„œë²„
â””â”€ **ì„ íƒ ê¸°ì¤€**: 
   - ì›ê²© ì„œë¹„ìŠ¤ â†’ SSE
   - ë¡œì»¬ ê¸°ëŠ¥ â†’ STDIO

2. **ë¸Œë¼ìš°ì € ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬**
```python
async def think(self) -> bool:
    """
    ë¸Œë¼ìš°ì € ì‚¬ìš© ì¤‘ì´ë©´ íŠ¹ë³„í•œ í”„ë¡¬í”„íŠ¸ ì œê³µ
    
    ì¼ë°˜ í”„ë¡¬í”„íŠ¸:
    "ë‹¤ìŒì— ë¬´ì—‡ì„ í• ì§€ ê²°ì •í•˜ì„¸ìš”"
    
    ë¸Œë¼ìš°ì € ì‚¬ìš© ì¤‘ í”„ë¡¬í”„íŠ¸:
    "í˜„ì¬ ë¸Œë¼ìš°ì € í™”ë©´:
     - URL: https://...
     - ì œëª©: ...
     - ì£¼ìš” ìš”ì†Œ: [ë²„íŠ¼1], [ë§í¬2], ...
     ë‹¤ìŒ í–‰ë™ì„ ê²°ì •í•˜ì„¸ìš”"
    """
    # ìµœê·¼ 3ê°œ ë©”ì‹œì§€ í™•ì¸
    recent_messages = self.memory.messages[-3:]
    
    # BrowserUseTool ì‚¬ìš© ì¤‘ì¸ê°€?
    browser_in_use = any(
        tool_call.function.name == "BrowserUseTool"
        for msg in recent_messages
        if msg.tool_calls
        for tool_call in msg.tool_calls
    )
    
    if browser_in_use:
        # ë¸Œë¼ìš°ì € ìƒíƒœ ì •ë³´ ì¶”ê°€
        self.next_step_prompt = await self.browser_context_helper.format_next_step_prompt()
    
    # ê¸°ì¡´ think() ì‹¤í–‰
    return await super().think()
```

3. **ë¦¬ì†ŒìŠ¤ ì •ë¦¬**
```python
async def cleanup(self):
    """
    ì—ì´ì „íŠ¸ ì¢…ë£Œ ì‹œ ìì› ì •ë¦¬
    
    - ë¸Œë¼ìš°ì € ë‹«ê¸°
    - MCP ì„œë²„ ì—°ê²° í•´ì œ
    - ì—´ë¦° íŒŒì¼ ë‹«ê¸°
    """
    # ë¸Œë¼ìš°ì € ì •ë¦¬
    if self.browser_context_helper:
        await self.browser_context_helper.cleanup_browser()
    
    # MCP ì„œë²„ ì—°ê²° í•´ì œ
    await self.disconnect_mcp_server()
```

**Manus ì‚¬ìš© ì˜ˆì‹œ:**
```python
# main.py
async def main():
    # Manus ìƒì„± (MCP ì„œë²„ ìë™ ì—°ê²°)
    agent = await Manus.create()
    
    # ì‚¬ìš©ì ìš”ì²­ ì‹¤í–‰
    await agent.run("ë„¤ì´ë²„ ë¸”ë¡œê·¸ì— ê°•ë‚¨ ë§›ì§‘ ê¸€ ì‘ì„±í•´ì¤˜")
    
    # ìì› ì •ë¦¬
    await agent.cleanup()
```

**ì‹¤í–‰ íë¦„ ì „ì²´ ì˜ˆì‹œ:**
```
ì‚¬ìš©ì: "Pythonìœ¼ë¡œ CSV íŒŒì¼ ë¶„ì„í•´ì„œ ê·¸ë˜í”„ ê·¸ë ¤ì¤˜"

[Manus ì´ˆê¸°í™”]
- LLM í´ë¼ì´ì–¸íŠ¸ ìƒì„± (GPT-4o)
- ë„êµ¬ ë“±ë¡: Python, Browser, Editor, ...
- MCP ì„œë²„ ì—°ê²°: filesystem, notion, ...
- âœ… ì¤€ë¹„ ì™„ë£Œ

[Step 1]
Think (Manus):
  "Python ì½”ë“œë¥¼ ì‹¤í–‰í•´ì•¼ê² ë‹¤"
  â†’ tool_calls = [{"name": "PythonExecute", ...}]

Act (Manus):
  PythonExecute.execute(code="""
    import pandas as pd
    df = pd.read_csv('data.csv')
    print(df.describe())
  """)
  â†’ ê²°ê³¼: "í†µê³„ ìš”ì•½ ì¶œë ¥"

[Step 2]
Think (Manus):
  "ì´ì œ ê·¸ë˜í”„ë¥¼ ê·¸ë¦¬ëŠ” ì½”ë“œë¥¼ ì‹¤í–‰"
  â†’ tool_calls = [{"name": "PythonExecute", ...}]

Act (Manus):
  PythonExecute.execute(code="""
    import matplotlib.pyplot as plt
    df.plot()
    plt.savefig('graph.png')
  """)
  â†’ ê²°ê³¼: "ê·¸ë˜í”„ ì €ì¥ ì™„ë£Œ"

[Step 3]
Think (Manus):
  "ì™„ë£Œ! ì‚¬ìš©ìì—ê²Œ ë³´ê³ "
  â†’ tool_calls = [{"name": "Terminate", ...}]

Act (Manus):
  Terminate.execute(reason="CSV ë¶„ì„ ë° ê·¸ë˜í”„ ìƒì„± ì™„ë£Œ")
  â†’ Manus ìƒíƒœ = FINISHED

[ìì› ì •ë¦¬]
- cleanup() ìë™ ì‹¤í–‰
- ë¸Œë¼ìš°ì € ë‹«ê¸°
- MCP ì—°ê²° í•´ì œ
```

### 2.3 ë„êµ¬(Tool) ì‹œìŠ¤í…œ ìƒì„¸

OpenManusì˜ ë„êµ¬ëŠ” ì—ì´ì „íŠ¸ê°€ ì‹¤ì œ ì„¸ê³„ì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” "ì†ê³¼ ë°œ"ì…ë‹ˆë‹¤.

#### 2.3.1 BaseTool - ë„êµ¬ì˜ ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤

**íŒŒì¼ ìœ„ì¹˜:** `app/tool/base.py`

```python
class BaseTool(BaseModel, ABC):
    """
    ëª¨ë“  ë„êµ¬ê°€ ìƒì†ë°›ëŠ” ê¸°ë³¸ í´ë˜ìŠ¤
    
    ë„êµ¬ ì‘ì„± ê·œì¹™:
    1. name: ë„êµ¬ ì´ë¦„ (ê³ ìœ í•´ì•¼ í•¨)
    2. description: LLMì´ ì½ê³  ì´í•´í•  ìˆ˜ ìˆëŠ” ì„¤ëª…
    3. parameters: JSON Schema í˜•ì‹ì˜ íŒŒë¼ë¯¸í„° ì •ì˜
    4. execute(): ì‹¤ì œ ë™ì‘ êµ¬í˜„
    """
    name: str
    description: str
    parameters: Optional[dict] = None
    
    @abstractmethod
    async def execute(self, **kwargs) -> ToolResult:
        """
        ë„êµ¬ì˜ ì‹¤ì œ ë™ì‘ì„ êµ¬í˜„
        
        kwargs: LLMì´ ì„ íƒí•œ íŒŒë¼ë¯¸í„°ë“¤
        ë°˜í™˜: ToolResult (output, error, base64_image ë“±)
        """
        pass
    
    def to_param(self) -> dict:
        """
        LLMì—ê²Œ ì „ë‹¬í•  ë„êµ¬ ì •ì˜ ìƒì„±
        
        OpenAI Function Calling í˜•ì‹:
        {
          "type": "function",
          "function": {
            "name": "ë„êµ¬ì´ë¦„",
            "description": "ë„êµ¬ ì„¤ëª…",
            "parameters": {...}
          }
        }
        """
        return {
            "type": "function",
            "function": {
                "name": self.name,
                "description": self.description,
                "parameters": self.parameters,
            },
        }
```

ğŸ“– **ToolResult**
â”œâ”€ **ì •ì˜**: ë„êµ¬ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë‹´ëŠ” í‘œì¤€ ì»¨í…Œì´ë„ˆ
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: íƒë°° ìƒì
â”‚  - output: ì •ìƒ ê²°ê³¼ë¬¼ (ë³¸ë¬¸)
â”‚  - error: ì—ëŸ¬ ë©”ì‹œì§€ (ë¬¸ì œ ë°œìƒ ì‹œ)
â”‚  - base64_image: ìŠ¤í¬ë¦°ìƒ· ë“± ì´ë¯¸ì§€ (ì„ íƒ)
â”‚  - system: ì‹œìŠ¤í…œ ë©”ì‹œì§€ (ì„ íƒ)
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```python
â”‚  # ì„±ê³µ ì¼€ì´ìŠ¤
â”‚  return ToolResult(output="ì‘ì—… ì™„ë£Œ")
â”‚  
â”‚  # ì‹¤íŒ¨ ì¼€ì´ìŠ¤
â”‚  return ToolResult(error="íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤")
â”‚  
â”‚  # ì´ë¯¸ì§€ í¬í•¨
â”‚  return ToolResult(
â”‚      output="ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜",
â”‚      base64_image="iVBORw0KGgoAAAANSUhEUg..."
â”‚  )
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: ë„êµ¬ë§ˆë‹¤ ë‹¤ë¥¸ ê²°ê³¼ í˜•ì‹ì„ í†µì¼í•´ì„œ ì—ì´ì „íŠ¸ê°€ ì‰½ê²Œ ì²˜ë¦¬

#### 2.3.2 ì£¼ìš” ë‚´ì¥ ë„êµ¬ë“¤

**1. BrowserUseTool - ì›¹ ë¸Œë¼ìš°ì € ìë™í™”**

**íŒŒì¼ ìœ„ì¹˜:** `app/tool/browser_use_tool.py`

```python
class BrowserUseTool(BaseTool):
    name = "browser_use"
    description = """
    ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ìë™ìœ¼ë¡œ ì¡°ì‘í•©ë‹ˆë‹¤.
    
    í•  ìˆ˜ ìˆëŠ” ì¼:
    - ì›¹ì‚¬ì´íŠ¸ ë°©ë¬¸
    - ë²„íŠ¼ í´ë¦­
    - í…ìŠ¤íŠ¸ ì…ë ¥
    - ìŠ¤í¬ë¡¤
    - ì½˜í…ì¸  ì¶”ì¶œ
    - ìŠ¤í¬ë¦°ìƒ·
    
    ì‚¬ìš© ì˜ˆ:
    - êµ¬ê¸€ ê²€ìƒ‰
    - ì˜¨ë¼ì¸ ì‡¼í•‘
    - ì •ë³´ ìˆ˜ì§‘
    - ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ í…ŒìŠ¤íŠ¸
    """
    
    parameters = {
        "type": "object",
        "properties": {
            "task": {
                "type": "string",
                "description": "ë¸Œë¼ìš°ì €ë¡œ ìˆ˜í–‰í•  ì‘ì—… (ìì—°ì–´)"
            }
        },
        "required": ["task"]
    }
    
    async def execute(self, task: str) -> ToolResult:
        """
        browser-use ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë¸Œë¼ìš°ì € ì œì–´
        
        ë™ì‘ ë°©ì‹:
        1. LLMì´ í™”ë©´ì„ "ë³´ê³ " (ìŠ¤í¬ë¦°ìƒ·)
        2. ë‹¤ìŒ í–‰ë™ ê²°ì • ("ì—¬ê¸° í´ë¦­", "ì €ê¸° ì…ë ¥")
        3. playwrightë¡œ ì‹¤ì œ ì‹¤í–‰
        4. ê²°ê³¼ í™•ì¸ í›„ ë°˜ë³µ
        """
        from browser_use import Agent as BrowserAgent
        
        # Browser-Use ì—ì´ì „íŠ¸ ìƒì„±
        browser_agent = BrowserAgent(
            task=task,
            llm=self.llm  # Manusì˜ LLM ê³µìœ 
        )
        
        # ì‹¤í–‰
        result = await browser_agent.run()
        
        return ToolResult(output=str(result))
```

ğŸ“– **browser-use ë¼ì´ë¸ŒëŸ¬ë¦¬**
â”œâ”€ **ì •ì˜**: LLMì´ ì§ì ‘ ì›¹ ë¸Œë¼ìš°ì €ë¥¼ "ë³´ê³ " ì¡°ì‘í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ì‹œë ¥ì´ ìˆëŠ” ë¡œë´‡ ë¹„ì„œ
â”‚  - ì¼ë°˜ ìë™í™”: "ë²„íŠ¼ì˜ IDëŠ” #submitì´ì•¼" (ê°œë°œìê°€ ì§€ì •)
â”‚  - browser-use: "ì´ í™”ë©´ì—ì„œ ì œì¶œ ë²„íŠ¼ ì°¾ì•„ì„œ ëˆŒëŸ¬" (LLMì´ íŒë‹¨)
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  1. ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ â†’ 2. LLMì—ê²Œ "ë­ê°€ ë³´ì—¬?" ì§ˆë¬¸
â”‚  â†’ 3. LLM: "ë¡œê·¸ì¸ ë²„íŠ¼ì´ (300, 400) ì¢Œí‘œì— ìˆë„¤"
â”‚  â†’ 4. Playwrightë¡œ í´ë¦­ â†’ 5. ë‹¤ì‹œ ìŠ¤í¬ë¦°ìƒ·... (ë°˜ë³µ)
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: DOM ì…€ë ‰í„° ì—†ì´ë„ "ì‚¬ëŒì²˜ëŸ¼" ì›¹ì‚¬ì´íŠ¸ ì¡°ì‘ ê°€ëŠ¥

**2. PythonExecute - Python ì½”ë“œ ì‹¤í–‰**

**íŒŒì¼ ìœ„ì¹˜:** `app/tool/python_execute.py`

```python
class PythonExecute(BaseTool):
    name = "python_execute"
    description = """
    Python ì½”ë“œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
    
    í•  ìˆ˜ ìˆëŠ” ì¼:
    - ë°ì´í„° ë¶„ì„ (pandas, numpy)
    - ê³„ì‚° ë° í†µê³„
    - íŒŒì¼ ì½ê¸°/ì“°ê¸°
    - API í˜¸ì¶œ
    - ê·¸ë˜í”„ ìƒì„± (matplotlib)
    
    ì œí•œì‚¬í•­:
    - ìœ„í—˜í•œ ì½”ë“œ (os.system ë“±) ì œí•œ
    - ìƒŒë“œë°•ìŠ¤ í™˜ê²½ì—ì„œ ì‹¤í–‰
    - íƒ€ì„ì•„ì›ƒ ì„¤ì • ê°€ëŠ¥
    """
    
    parameters = {
        "type": "object",
        "properties": {
            "code": {
                "type": "string",
                "description": "ì‹¤í–‰í•  Python ì½”ë“œ"
            }
        },
        "required": ["code"]
    }
    
    async def execute(self, code: str) -> ToolResult:
        """
        Python ì½”ë“œë¥¼ ì•ˆì „í•˜ê²Œ ì‹¤í–‰
        
        ë³´ì•ˆ ì¡°ì¹˜:
        - ìƒŒë“œë°•ìŠ¤ í™˜ê²½ (Docker ë˜ëŠ” subprocess)
        - ê¸ˆì§€ ëª…ë ¹ì–´ í•„í„°ë§
        - ì‹¤í–‰ ì‹œê°„ ì œí•œ
        - ë©”ëª¨ë¦¬ ì œí•œ
        """
        try:
            # ìƒŒë“œë°•ìŠ¤ì—ì„œ ì‹¤í–‰
            result = await SANDBOX_CLIENT.execute_python(code)
            
            return ToolResult(output=result.stdout)
        except TimeoutError:
            return ToolResult(error="ì‹¤í–‰ ì‹œê°„ ì´ˆê³¼ (30ì´ˆ)")
        except Exception as e:
            return ToolResult(error=f"ì‹¤í–‰ ì˜¤ë¥˜: {str(e)}")
```

**ì‚¬ìš© ì˜ˆì‹œ:**
```python
# Manusê°€ ìë™ìœ¼ë¡œ ìƒì„±í•œ ì½”ë“œ
ì‚¬ìš©ì: "1ë¶€í„° 100ê¹Œì§€ í•©ê³„ êµ¬í•´ì¤˜"

Manus â†’ PythonExecute:
code = """
result = sum(range(1, 101))
print(f"1ë¶€í„° 100ê¹Œì§€ì˜ í•©: {result}")
"""

ì‹¤í–‰ ê²°ê³¼:
"1ë¶€í„° 100ê¹Œì§€ì˜ í•©: 5050"
```

**3. StrReplaceEditor - íŒŒì¼ í¸ì§‘**

**íŒŒì¼ ìœ„ì¹˜:** `app/tool/str_replace_editor.py`

```python
class StrReplaceEditor(BaseTool):
    name = "str_replace_editor"
    description = """
    íŒŒì¼ ë‚´ìš©ì„ ê²€ìƒ‰í•˜ê³  ìˆ˜ì •í•©ë‹ˆë‹¤.
    
    í•  ìˆ˜ ìˆëŠ” ì¼:
    - íŒŒì¼ ì½ê¸°
    - í…ìŠ¤íŠ¸ ê²€ìƒ‰ ë° ì¹˜í™˜
    - ìƒˆ íŒŒì¼ ìƒì„±
    - íŒŒì¼ ì‚½ì…/ì‚­ì œ
    
    ì‚¬ìš© ì˜ˆ:
    - ë²„ê·¸ ìˆ˜ì •
    - ì„¤ì • ë³€ê²½
    - ì½”ë“œ ë¦¬íŒ©í† ë§
    """
    
    parameters = {
        "type": "object",
        "properties": {
            "command": {
                "type": "string",
                "enum": ["view", "create", "str_replace", "insert"],
                "description": "ìˆ˜í–‰í•  ì‘ì—…"
            },
            "path": {
                "type": "string",
                "description": "íŒŒì¼ ê²½ë¡œ"
            },
            "old_str": {
                "type": "string",
                "description": "ê²€ìƒ‰í•  ë¬¸ìì—´ (str_replace)"
            },
            "new_str": {
                "type": "string",
                "description": "ëŒ€ì²´í•  ë¬¸ìì—´ (str_replace)"
            }
        },
        "required": ["command", "path"]
    }
    
    async def execute(
        self, 
        command: str,
        path: str,
        old_str: str = "",
        new_str: str = ""
    ) -> ToolResult:
        """
        íŒŒì¼ ì‘ì—… ì‹¤í–‰
        
        ì•ˆì „ ì¡°ì¹˜:
        - workspace_root ë°–ì˜ íŒŒì¼ ì ‘ê·¼ ê¸ˆì§€
        - ë°±ì—… ìƒì„±
        - ë³€ê²½ ë‚´ì—­ ë¡œê¹…
        """
        # ê²½ë¡œ ê²€ì¦
        full_path = (config.workspace_root / path).resolve()
        if not str(full_path).startswith(str(config.workspace_root)):
            return ToolResult(error="ì‘ì—… ê³µê°„ ë°–ì˜ íŒŒì¼ ì ‘ê·¼ ê¸ˆì§€")
        
        if command == "view":
            # íŒŒì¼ ì½ê¸°
            content = full_path.read_text()
            return ToolResult(output=content)
            
        elif command == "str_replace":
            # ë¬¸ìì—´ ì¹˜í™˜
            content = full_path.read_text()
            new_content = content.replace(old_str, new_str)
            full_path.write_text(new_content)
            return ToolResult(output="íŒŒì¼ ìˆ˜ì • ì™„ë£Œ")
        
        # ...
```

**4. AskHuman - ì‚¬ìš©ìì—ê²Œ ì§ˆë¬¸**

```python
class AskHuman(BaseTool):
    name = "ask_human"
    description = """
    ë¶ˆí™•ì‹¤í•˜ê±°ë‚˜ ì¤‘ìš”í•œ ê²°ì •ì´ í•„ìš”í•  ë•Œ ì‚¬ìš©ìì—ê²Œ ì§ˆë¬¸í•©ë‹ˆë‹¤.
    
    ì‚¬ìš© ì‹œê¸°:
    - ì—¬ëŸ¬ ì„ íƒì§€ ì¤‘ ì„ íƒ í•„ìš”
    - ë¯¼ê°í•œ ì •ë³´ í™•ì¸
    - ë¶ˆëª…í™•í•œ ìš”êµ¬ì‚¬í•­ ëª…í™•í™”
    
    ì˜ˆ:
    "íŒŒì¼ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n)"
    """
    
    async def execute(self, question: str) -> ToolResult:
        """í„°ë¯¸ë„ì— ì§ˆë¬¸ ì¶œë ¥í•˜ê³  ë‹µë³€ ëŒ€ê¸°"""
        answer = input(f"\nğŸ¤” {question}\në‹µë³€: ")
        return ToolResult(output=answer)
```

### 2.4 LLM í´ë¼ì´ì–¸íŠ¸

**íŒŒì¼ ìœ„ì¹˜:** `app/llm.py`

ğŸ“– **LLM í´ë˜ìŠ¤**
â”œâ”€ **ì •ì˜**: ë‹¤ì–‘í•œ LLM ì œê³µì(OpenAI, Anthropic ë“±)ë¥¼ í†µí•©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ë²ˆì—­ê¸° í—ˆë¸Œ
â”‚  - ì˜ì–´ â†’ í•œêµ­ì–´ ë²ˆì—­ê¸° (OpenAI)
â”‚  - ì¼ë³¸ì–´ â†’ í•œêµ­ì–´ ë²ˆì—­ê¸° (Claude)
â”‚  - ì¤‘êµ­ì–´ â†’ í•œêµ­ì–´ ë²ˆì—­ê¸° (Gemini)
â”‚  - ê°™ì€ ì¸í„°í˜ì´ìŠ¤ë¡œ ë‹¤ ì‚¬ìš© ê°€ëŠ¥
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  config.tomlì—ì„œ model ì„¤ì •
â”‚  â†’ LLM í´ë˜ìŠ¤ê°€ ì ì ˆí•œ API ì„ íƒ
â”‚  â†’ í†µì¼ëœ ì¸í„°í˜ì´ìŠ¤ë¡œ í˜¸ì¶œ
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: ì—ì´ì „íŠ¸ ì½”ë“œ ë³€ê²½ ì—†ì´ LLM ì œê³µì êµì²´ ê°€ëŠ¥

**ì£¼ìš” ë©”ì„œë“œ:**

```python
class LLM:
    def __init__(self, model: str, api_key: str):
        """
        LLM í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”
        
        ì§€ì› ëª¨ë¸:
        - GPT-4o, GPT-4-turbo (OpenAI)
        - Claude-3.5-Sonnet, Claude-3-Opus (Anthropic)
        - Gemini-2.0-Flash (Google)
        - DeepSeek (ê¸°íƒ€)
        """
        self.model = model
        self.client = self._create_client(api_key)
    
    async def ask_tool(
        self,
        messages: List[Message],
        tools: List[dict],
        tool_choice: ToolChoice = ToolChoice.AUTO
    ) -> ChatCompletionMessage:
        """
        ë„êµ¬ ì„ íƒì´ í•„ìš”í•œ ëŒ€í™”
        
        OpenAI Function Calling í˜•ì‹ ì‚¬ìš©:
        - messages: ëŒ€í™” íˆìŠ¤í† ë¦¬
        - tools: ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬ ëª©ë¡
        - tool_choice: AUTO/REQUIRED/NONE
        
        ë°˜í™˜: LLMì˜ ì‘ë‹µ + ì„ íƒí•œ ë„êµ¬ë“¤
        """
        response = await self.client.chat.completions.create(
            model=self.model,
            messages=[msg.to_dict() for msg in messages],
            tools=tools,
            tool_choice=self._convert_tool_choice(tool_choice)
        )
        
        return response.choices[0].message
    
    def count_tokens(self, messages: List[Message]) -> int:
        """
        í† í° ìˆ˜ ê³„ì‚° (ë¹„ìš© ì¶”ì •ìš©)
        
        í† í° = LLMì´ ì²˜ë¦¬í•˜ëŠ” "ë‹¨ìœ„"
        - ì˜ì–´: ë‹¨ì–´ë‹¹ ì•½ 1-2 í† í°
        - í•œêµ­ì–´: ê¸€ìë‹¹ ì•½ 2-3 í† í°
        - ì´ë¯¸ì§€: í•´ìƒë„ì— ë”°ë¼ 85-1024 í† í°
        """
        tokenizer = tiktoken.encoding_for_model(self.model)
        
        total = 0
        for msg in messages:
            # í…ìŠ¤íŠ¸ í† í°
            total += len(tokenizer.encode(msg.content))
            
            # ì´ë¯¸ì§€ í† í° (ìˆë‹¤ë©´)
            if msg.base64_image:
                total += self._calculate_image_tokens(msg.base64_image)
        
        return total
```

**í† í° ì œí•œ ì²˜ë¦¬:**
```python
async def ask_tool(self, messages, tools, tool_choice):
    """
    í† í° ì œí•œ ì´ˆê³¼ ì‹œ ìë™ ì²˜ë¦¬
    
    1. í˜„ì¬ í† í° ìˆ˜ ê³„ì‚°
    2. ì œí•œ ì´ˆê³¼ ì‹œ:
       - ì˜¤ë˜ëœ ë©”ì‹œì§€ ì œê±°
       - ê¸´ ë„êµ¬ ê²°ê³¼ ìš”ì•½
       - ì´ë¯¸ì§€ í•´ìƒë„ ë‚®ì¶¤
    3. ì¬ì‹œë„
    """
    token_count = self.count_tokens(messages)
    
    if token_count > self.max_tokens:
        # ë©”ëª¨ë¦¬ ì••ì¶•
        messages = self._compress_memory(messages)
    
    try:
        return await self._do_api_call(messages, tools, tool_choice)
    except TokenLimitExceeded:
        # ë” ì••ì¶•
        messages = self._aggressive_compress(messages)
        return await self._do_api_call(messages, tools, tool_choice)
```

### 2.5 ì™„ì „í•œ ì‹¤í–‰ íë¦„ ì¢…í•©

ì´ì œ OpenManusì˜ ëª¨ë“  êµ¬ì„± ìš”ì†Œë¥¼ ì´í•´í–ˆìœ¼ë‹ˆ, ì „ì²´ ì‹¤í–‰ íë¦„ì„ ì¢…í•©í•´ë´…ì‹œë‹¤.

**ì˜ˆì œ ì‹œë‚˜ë¦¬ì˜¤:** "ë„¤ì´ë²„ ë¸”ë¡œê·¸ì— ê°•ë‚¨ ë§›ì§‘ ê¸€ ì‘ì„±"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‚¬ìš©ì: "ë„¤ì´ë²„ ë¸”ë¡œê·¸ì— ê°•ë‚¨ ë§›ì§‘ ê¸€ ì‘ì„±í•´ì¤˜"               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  main.py                                                     â”‚
â”‚  - Manus.create() í˜¸ì¶œ                                       â”‚
â”‚  - agent.run(prompt) í˜¸ì¶œ                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Manus.create()                                              â”‚
â”‚  1. LLM í´ë¼ì´ì–¸íŠ¸ ìƒì„± (GPT-4o)                             â”‚
â”‚  2. ë„êµ¬ ë“±ë¡ (Browser, Python, Editor, ...)                 â”‚
â”‚  3. MCP ì„œë²„ ì—°ê²° (filesystem, notion, ...)                  â”‚
â”‚  4. ë¸Œë¼ìš°ì € í—¬í¼ ì´ˆê¸°í™”                                      â”‚
â”‚  âœ… Manus ì¸ìŠ¤í„´ìŠ¤ ì¤€ë¹„ ì™„ë£Œ                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BaseAgent.run()                                             â”‚
â”‚  - ì‚¬ìš©ì ë©”ì‹œì§€ë¥¼ ë©”ëª¨ë¦¬ì— ì¶”ê°€                              â”‚
â”‚  - ë©”ì¸ ë£¨í”„ ì‹œì‘ (max_steps=20)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Step 1] ReActAgent.step()                                  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€ Think (ToolCallAgent.think()) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  1. ë©”ëª¨ë¦¬ í™•ì¸:                                  â”‚       â”‚
â”‚  â”‚     - user: "ë„¤ì´ë²„ ë¸”ë¡œê·¸ì— ê°•ë‚¨ ë§›ì§‘ ê¸€ ì‘ì„±"    â”‚       â”‚
â”‚  â”‚                                                   â”‚       â”‚
â”‚  â”‚  2. LLMì—ê²Œ ì§ˆë¬¸:                                 â”‚       â”‚
â”‚  â”‚     messages: [ìœ„ì˜ ë©”ëª¨ë¦¬]                       â”‚       â”‚
â”‚  â”‚     tools: [Browser, Python, Editor, ...]        â”‚       â”‚
â”‚  â”‚     tool_choice: AUTO                             â”‚       â”‚
â”‚  â”‚                                                   â”‚       â”‚
â”‚  â”‚  3. LLM ì‘ë‹µ:                                     â”‚       â”‚
â”‚  â”‚     content: "êµ¬ê¸€ì—ì„œ ê°•ë‚¨ ë§›ì§‘ì„ ê²€ìƒ‰í•˜ê² ìŠµë‹ˆë‹¤" â”‚       â”‚
â”‚  â”‚     tool_calls: [                                 â”‚       â”‚
â”‚  â”‚       {                                           â”‚       â”‚
â”‚  â”‚         name: "browser_use",                      â”‚       â”‚
â”‚  â”‚         arguments: {                              â”‚       â”‚
â”‚  â”‚           task: "êµ¬ê¸€ì—ì„œ ê°•ë‚¨ ë§›ì§‘ ê²€ìƒ‰"          â”‚       â”‚
â”‚  â”‚         }                                         â”‚       â”‚
â”‚  â”‚       }                                           â”‚       â”‚
â”‚  â”‚     ]                                             â”‚       â”‚
â”‚  â”‚                                                   â”‚       â”‚
â”‚  â”‚  4. ë©”ëª¨ë¦¬ì— assistant ë©”ì‹œì§€ ì¶”ê°€                â”‚       â”‚
â”‚  â”‚  5. return True (ë„êµ¬ ì‚¬ìš© í•„ìš”)                  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€ Act (ToolCallAgent.act()) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  1. execute_tool() í˜¸ì¶œ:                          â”‚       â”‚
â”‚  â”‚     - BrowserUseTool.execute(                     â”‚       â”‚
â”‚  â”‚         task="êµ¬ê¸€ì—ì„œ ê°•ë‚¨ ë§›ì§‘ ê²€ìƒ‰"             â”‚       â”‚
â”‚  â”‚       )                                           â”‚       â”‚
â”‚  â”‚                                                   â”‚       â”‚
â”‚  â”‚  2. Browser-Use ë‚´ë¶€ ë™ì‘:                        â”‚       â”‚
â”‚  â”‚     a. ë¸Œë¼ìš°ì € ì‹œì‘ (Playwright)                 â”‚       â”‚
â”‚  â”‚     b. google.com ì ‘ì†                            â”‚       â”‚
â”‚  â”‚     c. ìŠ¤í¬ë¦°ìƒ· â†’ LLMì—ê²Œ "ë­ê°€ ë³´ì—¬?"            â”‚       â”‚
â”‚  â”‚     d. LLM: "ê²€ìƒ‰ì°½ì´ (500,300)ì— ìˆë„¤"           â”‚       â”‚
â”‚  â”‚     e. í´ë¦­ â†’ "ê°•ë‚¨ ë§›ì§‘" ì…ë ¥ â†’ ì—”í„°             â”‚       â”‚
â”‚  â”‚     f. ê²°ê³¼ í˜ì´ì§€ ë„ë‹¬                           â”‚       â”‚
â”‚  â”‚     g. ìƒìœ„ 5ê°œ ë§í¬ ì¶”ì¶œ                         â”‚       â”‚
â”‚  â”‚                                                   â”‚       â”‚
â”‚  â”‚  3. ê²°ê³¼ ë°˜í™˜:                                    â”‚       â”‚
â”‚  â”‚     "ê²€ìƒ‰ ì™„ë£Œ. 5ê°œ ë¸”ë¡œê·¸ ë°œê²¬:                  â”‚       â”‚
â”‚  â”‚      1. https://blog.naver.com/xxx..."           â”‚       â”‚
â”‚  â”‚                                                   â”‚       â”‚
â”‚  â”‚  4. ë©”ëª¨ë¦¬ì— tool ë©”ì‹œì§€ ì¶”ê°€                     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Step 2~5] (ë¸”ë¡œê·¸ í¬ë¡¤ë§ & ì½˜í…ì¸  ìƒì„±)                     â”‚
â”‚  - ì—¬ëŸ¬ ë‹¨ê³„ ë°˜ë³µ...                                         â”‚
â”‚  - ìµœì¢…ì ìœ¼ë¡œ "ê°•ë‚¨ ë§›ì§‘" ê¸€ ì™„ì„±                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ì™„ë£Œ] State = FINISHED                                     â”‚
â”‚  - cleanup() ìë™ í˜¸ì¶œ                                       â”‚
â”‚  - ì‚¬ìš©ìì—ê²Œ ê²°ê³¼ ë°˜í™˜                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. DroidRun ì™„ì „ ë¶„ì„

> **"Android/iOS ê¸°ê¸°ë¥¼ ìì—°ì–´ë¡œ ì œì–´í•˜ëŠ” ì „ë¬¸ í”„ë ˆì„ì›Œí¬"**

### 3.1 ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DroidRun êµ¬ì¡°ë„                        â”‚
â”‚                                                          â”‚
â”‚  ì‚¬ìš©ì â†’ CLI/API â†’ DroidAgent                           â”‚
â”‚                        â”‚                                 â”‚
â”‚                        â”œâ”€ ì£¼ìš” ì»´í¬ë„ŒíŠ¸                   â”‚
â”‚                        â”‚  â”œâ”€ ManagerAgent (ê³„íš ìˆ˜ë¦½)    â”‚
â”‚                        â”‚  â”œâ”€ ExecutorAgent (ì‹¤í–‰)        â”‚
â”‚                        â”‚  â””â”€ Tools (ADB, Portal)         â”‚
â”‚                        â”‚                                 â”‚
â”‚                        â”œâ”€ í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜                   â”‚
â”‚                        â”‚  â”œâ”€ UI hierarchy ë¶„ì„           â”‚
â”‚                        â”‚  â”œâ”€ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ & ë¶„ì„         â”‚
â”‚                        â”‚  â”œâ”€ LLM ê¸°ë°˜ íŒë‹¨               â”‚
â”‚                        â”‚  â””â”€ Reflection (ì‹¤íŒ¨ í•™ìŠµ)      â”‚
â”‚                        â”‚                                 â”‚
â”‚                        â””â”€ ì‹¤í–‰ ì‚¬ì´í´                     â”‚
â”‚                           Manager â†’ Executor â†’ ê²°ê³¼ í™•ì¸
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ğŸ“– **DroidRunì˜ ë…íŠ¹í•œ ì **
â”œâ”€ **ì •ì˜**: ëª¨ë°”ì¼ íŠ¹í™” AI ì—ì´ì „íŠ¸ (OpenManusëŠ” ë²”ìš©, DroidRunì€ ëª¨ë°”ì¼ ì „ë¬¸)
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ì „ë¬¸ ì™¸ê³¼ì˜ì‚¬ vs ì¢…í•©ë³‘ì› ì˜ì‚¬
â”‚  - OpenManus: ì—¬ëŸ¬ ë¶„ì•¼ë¥¼ ë‹¤ë£¨ëŠ” ì¢…í•©ë³‘ì› ì˜ì‚¬ (ë²”ìš©)
â”‚  - DroidRun: í•œ ë¶„ì•¼ì˜ ì „ë¬¸ê°€ (ëª¨ë°”ì¼ ìë™í™”)
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  1. Manager: "ì•± ì—´ê³ , ë²„íŠ¼ í´ë¦­í•˜ê³ ..." (ì „ëµ ìˆ˜ë¦½)
â”‚  2. Executor: ì‹¤ì œë¡œ ADB ëª…ë ¹ ì‹¤í–‰
â”‚  3. Reflection: "ì‹¤íŒ¨í–ˆë„¤? ì™œ ì‹¤íŒ¨í–ˆì§€?" (í•™ìŠµ)
â”‚  4. ì¬ì‹œë„: ê°œì„ ëœ ì „ëµìœ¼ë¡œ ë‹¤ì‹œ ì‹œë„
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: ëª¨ë°”ì¼ ì•±ì€ DOMì´ ì—†ê³ , í™”ë©´ì´ ì‘ê³ , í„°ì¹˜ ê¸°ë°˜ì´ë¼ ë¸Œë¼ìš°ì €ì™€ ì™„ì „íˆ ë‹¤ë¦„

### 3.2 í•µì‹¬ í´ë˜ìŠ¤ ìƒì„¸ ë¶„ì„

#### 3.2.1 DroidAgent - ë©”ì¸ ì—ì´ì „íŠ¸

**íŒŒì¼ ìœ„ì¹˜:** `droidrun/agent/droid/droid_agent.py`

```python
class DroidAgent:
    """
    Android/iOS ê¸°ê¸°ë¥¼ ì œì–´í•˜ëŠ” ë©”ì¸ ì—ì´ì „íŠ¸
    
    OpenManusì˜ Manusì™€ ë¹„ìŠ·í•œ ì—­í• ì´ì§€ë§Œ,
    ëª¨ë°”ì¼ í™˜ê²½ì— íŠ¹í™”ëœ ê¸°ëŠ¥ ì œê³µ
    """
    
    def __init__(
        self,
        goal: str,                    # ëª©í‘œ (ìì—°ì–´)
        llm_provider: str = "anthropic",  # LLM ì œê³µì
        llm_model: str = "claude-3-5-sonnet",
        device_serial: str = None,    # ê¸°ê¸° ì‹œë¦¬ì–¼
        max_steps: int = 30           # ìµœëŒ€ ë‹¨ê³„
    ):
        """
        ì—ì´ì „íŠ¸ ì´ˆê¸°í™”
        
        OpenManusì™€ì˜ ì°¨ì´ì :
        - MCP ëŒ€ì‹  ADB/Portal ì‚¬ìš©
        - ë¸Œë¼ìš°ì € ëŒ€ì‹  ëª¨ë°”ì¼ í™”ë©´
        - DOM ëŒ€ì‹  UI hierarchy
        """
        self.goal = goal
        self.llm_provider = llm_provider
        self.llm_model = llm_model
        self.max_steps = max_steps
        
        # ëª¨ë°”ì¼ ì œì–´ ë„êµ¬
        self.adb_tools = AdbTools(device_serial)
        
        # í•˜ìœ„ ì—ì´ì „íŠ¸
        self.manager = ManagerAgent(llm_provider, llm_model)
        self.executor = ExecutorAgent(llm_provider, llm_model)
        
        # ìƒíƒœ
        self.state = DroidAgentState()
    
    async def run(self) -> dict:
        """
        ëª©í‘œ ë‹¬ì„±ê¹Œì§€ ì‹¤í–‰
        
        ì‹¤í–‰ íë¦„:
        1. Managerê°€ ì „ì²´ ê³„íš ìˆ˜ë¦½
        2. ê° ë‹¨ê³„ë§ˆë‹¤:
           - Executorê°€ í˜„ì¬ í™”ë©´ ë¶„ì„
           - ë‹¤ìŒ ì•¡ì…˜ ê²°ì •
           - ADBë¡œ ì‹¤í–‰
           - ê²°ê³¼ í™•ì¸
        3. Reflection (ì‹¤íŒ¨ ì‹œ)
        4. ëª©í‘œ ë‹¬ì„± or ìµœëŒ€ ë‹¨ê³„ ë„ë‹¬
        """
        # ì´ˆê¸° í™”ë©´ ë¶„ì„
        screenshot = self.adb_tools.screenshot()
        ui_hierarchy = self.adb_tools.dump_ui_hierarchy()
        
        # Manager: ì „ì²´ ê³„íš ìˆ˜ë¦½
        plan = await self.manager.create_plan(
            goal=self.goal,
            current_screen=screenshot,
            ui_hierarchy=ui_hierarchy
        )
        
        # ë©”ì¸ ë£¨í”„
        for step in range(self.max_steps):
            # í˜„ì¬ í™”ë©´ ìƒíƒœ
            screenshot = self.adb_tools.screenshot()
            ui_hierarchy = self.adb_tools.dump_ui_hierarchy()
            
            # Executor: ë‹¤ìŒ ì•¡ì…˜ ê²°ì •
            action = await self.executor.decide_next_action(
                current_goal=plan.current_subgoal,
                screenshot=screenshot,
                ui_hierarchy=ui_hierarchy,
                history=self.state.history
            )
            
            # ì•¡ì…˜ ì‹¤í–‰
            result = await self._execute_action(action)
            
            # ìƒíƒœ ì—…ë°ì´íŠ¸
            self.state.add_step(action, result)
            
            # ëª©í‘œ ë‹¬ì„± í™•ì¸
            if await self.manager.is_goal_achieved(
                goal=self.goal,
                current_state=self.state
            ):
                return {
                    "success": True,
                    "steps": step + 1,
                    "trajectory": self.state.history
                }
            
            # ì‹¤íŒ¨ ê°ì§€ & Reflection
            if self._is_stuck():
                reflection = await self._reflect_on_failure()
                plan = await self.manager.replan(
                    current_plan=plan,
                    failure_reason=reflection
                )
        
        # ìµœëŒ€ ë‹¨ê³„ ë„ë‹¬
        return {
            "success": False,
            "steps": self.max_steps,
            "trajectory": self.state.history
        }
```

ğŸ“– **Reflection (ìê¸° ë°˜ì„±)**
â”œâ”€ **ì •ì˜**: ì—ì´ì „íŠ¸ê°€ ì‹¤íŒ¨í–ˆì„ ë•Œ "ì™œ ì‹¤íŒ¨í–ˆëŠ”ì§€" ë¶„ì„í•˜ê³  ê°œì„ í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ì‹œí—˜ ì˜¤ë‹µ ë…¸íŠ¸
â”‚  - ë¬¸ì œ í‹€ë¦¼ â†’ "ì™œ í‹€ë ¸ì§€?" ë¶„ì„
â”‚  - ê°œë… ë¶€ì¡±? ì‹¤ìˆ˜? â†’ ì›ì¸ íŒŒì•…
â”‚  - ë‹¤ìŒì—” ì•ˆ í‹€ë¦¼ â†’ í•™ìŠµ íš¨ê³¼
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  ì‹¤íŒ¨ ê°ì§€: "3ë²ˆì´ë‚˜ ê°™ì€ ë²„íŠ¼ì„ ëª» ì°¾ë„¤?"
â”‚  â†’ LLMì—ê²Œ: "ì™œ ì‹¤íŒ¨í–ˆì„ê¹Œ? ìµœê·¼ ì‹œë„ë“¤ì„ ë³´ë©´..."
â”‚  â†’ LLM: "ì•„, ìŠ¤í¬ë¡¤ì„ ë¨¼ì € í•´ì•¼ ë²„íŠ¼ì´ ë³´ì´ëŠ”êµ¬ë‚˜"
â”‚  â†’ ê³„íš ìˆ˜ì •: "ìŠ¤í¬ë¡¤ â†’ ë²„íŠ¼ ì°¾ê¸°"
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: ë‹¨ìˆœ ë°˜ë³µì´ ì•„ë‹Œ "í•™ìŠµí•˜ëŠ”" ì—ì´ì „íŠ¸ë¥¼ ë§Œë“¤ê¸° ìœ„í•´

**Reflection êµ¬í˜„:**
```python
async def _reflect_on_failure(self) -> str:
    """
    ìµœê·¼ ì‹¤íŒ¨ë“¤ì„ ë¶„ì„í•´ì„œ ê°œì„  ë°©í–¥ ì œì‹œ
    
    DroidRunì˜ í•µì‹¬ ê¸°ëŠ¥ (OpenManusì—ëŠ” ì—†ìŒ)
    """
    # ìµœê·¼ 5ê°œ ì‹œë„ ì¶”ì¶œ
    recent_attempts = self.state.history[-5:]
    
    # LLMì—ê²Œ ë¶„ì„ ìš”ì²­
    reflection_prompt = f"""
    ëª©í‘œ: {self.goal}
    
    ìµœê·¼ ì‹œë„ë“¤:
    {self._format_attempts(recent_attempts)}
    
    ë¬¸ì œì :
    - ê°™ì€ ì‹¤íŒ¨ê°€ ë°˜ë³µë˜ê³  ìˆìŠµë‹ˆë‹¤
    - ëª©í‘œì— ê°€ê¹Œì›Œì§€ì§€ ì•Šê³  ìˆìŠµë‹ˆë‹¤
    
    ë‹¤ìŒ ì§ˆë¬¸ì— ë‹µí•˜ì„¸ìš”:
    1. ì™œ ì‹¤íŒ¨í–ˆë‚˜ìš”?
    2. ë¬´ì—‡ì„ ë†“ì¹˜ê³  ìˆë‚˜ìš”?
    3. ë‹¤ìŒì—” ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?
    
    êµ¬ì²´ì ìœ¼ë¡œ ë¶„ì„í•˜ì„¸ìš”.
    """
    
    reflection = await self.llm.ask(reflection_prompt)
    
    return reflection
```

#### 3.2.2 ManagerAgent - ì „ëµê°€

**íŒŒì¼ ìœ„ì¹˜:** `droidrun/agent/manager/`

ğŸ“– **ManagerAgent**
â”œâ”€ **ì •ì˜**: ì „ì²´ ì‘ì—…ì„ ë‹¨ê³„ë³„ ê³„íšìœ¼ë¡œ ë¶„í•´í•˜ëŠ” "ì „ëµê°€" ì—ì´ì „íŠ¸
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €
â”‚  - í° í”„ë¡œì íŠ¸ë¥¼ ì‘ì€ ì‘ì—…ìœ¼ë¡œ ë¶„í•´
â”‚  - "ë¨¼ì € ì´ê±°, ê·¸ ë‹¤ìŒ ì €ê±°, ë§ˆì§€ë§‰ìœ¼ë¡œ..."
â”‚  - ì§„í–‰ ìƒí™© ëª¨ë‹ˆí„°ë§
â”‚  - ê³„íš ì¡°ì •
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  ëª©í‘œ: "ë„¤ì´ë²„ ë¸”ë¡œê·¸ ê¸€ì“°ê¸°"
â”‚    â†“
â”‚  ê³„íš ìˆ˜ë¦½:
â”‚  1. ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì•± ì‹¤í–‰
â”‚  2. ê¸€ì“°ê¸° ë²„íŠ¼ ì°¾ì•„ì„œ í´ë¦­
â”‚  3. ì œëª© ì…ë ¥ë€ì— ì œëª© ì…ë ¥
â”‚  4. ë³¸ë¬¸ ì…ë ¥ë€ì— ë³¸ë¬¸ ì…ë ¥
â”‚  5. ë°œí–‰ ë²„íŠ¼ í´ë¦­
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: ë³µì¡í•œ ì‘ì—…ì„ í•œ ë²ˆì— ì‹¤í–‰í•˜ê¸° ì–´ë ¤ìš°ë¯€ë¡œ ë‹¨ê³„ë³„ë¡œ ë¶„í•´

**ì£¼ìš” ë©”ì„œë“œ:**

```python
class ManagerAgent:
    async def create_plan(
        self,
        goal: str,
        current_screen: bytes,
        ui_hierarchy: str
    ) -> Plan:
        """
        ëª©í‘œë¥¼ ë‹¨ê³„ë³„ ê³„íšìœ¼ë¡œ ë¶„í•´
        
        LLMì—ê²Œ ìš”ì²­:
        - ëª©í‘œ ì´í•´
        - í˜„ì¬ í™”ë©´ ë¶„ì„
        - ë‹¨ê³„ë³„ ì‘ì—… ë¦¬ìŠ¤íŠ¸ ìƒì„±
        """
        prompt = f"""
        ëª©í‘œ: {goal}
        
        í˜„ì¬ í™”ë©´ ìƒíƒœ:
        {self._analyze_screen(current_screen, ui_hierarchy)}
        
        ì´ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•œ ë‹¨ê³„ë³„ ê³„íšì„ ì„¸ìš°ì„¸ìš”.
        ê° ë‹¨ê³„ëŠ” êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤.
        
        ì‘ë‹µ í˜•ì‹:
        <thought>ì „ì²´ ì „ëµ ìƒê°</thought>
        <plan>
        1. ì²« ë²ˆì§¸ ë‹¨ê³„
        2. ë‘ ë²ˆì§¸ ë‹¨ê³„
        3. ...
        </plan>
        """
        
        response = await self.llm.ask(prompt, image=current_screen)
        
        # XML íŒŒì‹±
        parsed = parse_manager_response(response)
        
        return Plan(
            goal=goal,
            steps=parsed["plan"].split("\n"),
            current_step=0
        )
    
    async def is_goal_achieved(
        self,
        goal: str,
        current_state: DroidAgentState
    ) -> bool:
        """
        ëª©í‘œê°€ ë‹¬ì„±ë˜ì—ˆëŠ”ì§€ LLMì—ê²Œ í™•ì¸
        
        ë‹¨ìˆœ ê·œì¹™ì´ ì•„ë‹Œ LLMì˜ "ì´í•´"ë¥¼ ì‚¬ìš©
        â†’ ë” ìœ ì—°í•œ íŒë‹¨ ê°€ëŠ¥
        """
        prompt = f"""
        ëª©í‘œ: {goal}
        
        ì§€ê¸ˆê¹Œì§€ ìˆ˜í–‰í•œ ì‘ì—…:
        {self._format_history(current_state.history)}
        
        í˜„ì¬ í™”ë©´:
        {current_state.last_screenshot}
        
        ì§ˆë¬¸: ëª©í‘œê°€ ë‹¬ì„±ë˜ì—ˆë‚˜ìš”?
        
        ì‘ë‹µ í˜•ì‹:
        <request_accomplished success="true|false">
        ì´ìœ  ì„¤ëª…
        </request_accomplished>
        """
        
        response = await self.llm.ask(prompt)
        parsed = parse_manager_response(response)
        
        return parsed["success"] == True
```

**Managerì˜ ì‘ë‹µ íŒŒì‹±:**
```python
def parse_manager_response(response: str) -> dict:
    """
    Manager LLMì˜ ì‘ë‹µì„ êµ¬ì¡°í™”ëœ ë°ì´í„°ë¡œ ë³€í™˜
    
    ì…ë ¥ ì˜ˆì‹œ:
    <thought>
    ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì•±ì„ ì‹¤í–‰í•˜ê³ , 
    ê¸€ì“°ê¸° ë²„íŠ¼ì„ ì°¾ì•„ì•¼ í•œë‹¤.
    </thought>
    <plan>
    1. í™ˆ í™”ë©´ì—ì„œ ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì•± ì•„ì´ì½˜ ì°¾ê¸°
    2. ì•± ì•„ì´ì½˜ í„°ì¹˜í•´ì„œ ì‹¤í–‰
    3. ë¡œë”© ëŒ€ê¸°
    4. ê¸€ì“°ê¸° ë²„íŠ¼ ì°¾ê¸°
    5. ê¸€ì“°ê¸° ë²„íŠ¼ í´ë¦­
    </plan>
    
    ì¶œë ¥:
    {
        "thought": "ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì•±ì„ ì‹¤í–‰í•˜ê³ ...",
        "plan": "1. í™ˆ í™”ë©´ì—ì„œ...\n2. ì•± ì•„ì´ì½˜...",
        "current_subgoal": "í™ˆ í™”ë©´ì—ì„œ ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì•± ì•„ì´ì½˜ ì°¾ê¸°"
    }
    """
    thought = extract_xml_tag("thought", response)
    plan = extract_xml_tag("plan", response)
    
    # í˜„ì¬ ì„œë¸Œê³¨: planì˜ ì²« ë²ˆì§¸ ì¤„
    first_line = plan.split("\n")[0]
    # "1. " ì œê±°
    current_subgoal = re.sub(r"^\d+\.\s*", "", first_line)
    
    return {
        "thought": thought,
        "plan": plan,
        "current_subgoal": current_subgoal
    }
```

#### 3.2.3 ExecutorAgent - ì‹¤í–‰ì

**íŒŒì¼ ìœ„ì¹˜:** `droidrun/agent/executor/`

ğŸ“– **ExecutorAgent**
â”œâ”€ **ì •ì˜**: Managerì˜ ê³„íšì„ ì‹¤ì œ ëª¨ë°”ì¼ ì•¡ì…˜ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” "ì‹¤í–‰ì"
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: í˜„ì¥ ì‘ì—…ì
â”‚  - ë§¤ë‹ˆì €: "ì´ ë²½ì— ê·¸ë¦¼ ê±¸ì–´"
â”‚  - ì‘ì—…ì: "ì–´ë””ì—? ë†’ì´ëŠ”? ëª»ì€ ì–´ë””ì—?"
â”‚  - ì‘ì—…ìê°€ êµ¬ì²´ì ìœ¼ë¡œ ì‹¤í–‰
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  ì…ë ¥: "ê¸€ì“°ê¸° ë²„íŠ¼ í´ë¦­"
â”‚    â†“
â”‚  í™”ë©´ ë¶„ì„: "ê¸€ì“°ê¸° ë²„íŠ¼ì´ (540, 1200)ì— ìˆë„¤"
â”‚    â†“
â”‚  ì•¡ì…˜ ìƒì„±: {"type": "tap", "x": 540, "y": 1200}
â”‚    â†“
â”‚  ì‹¤í–‰: adb shell input tap 540 1200
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: Managerì˜ "ë¬´ì—‡ì„" ì„ Executorì˜ "ì–´ë–»ê²Œ"ë¡œ ë³€í™˜

**ì£¼ìš” ë©”ì„œë“œ:**

```python
class ExecutorAgent:
    async def decide_next_action(
        self,
        current_goal: str,      # í˜„ì¬ ì„œë¸Œê³¨ (Managerê°€ ì œê³µ)
        screenshot: bytes,       # í˜„ì¬ í™”ë©´
        ui_hierarchy: str,       # UI ìš”ì†Œ ì •ë³´
        history: List[Action]    # ì´ì „ ì•¡ì…˜ë“¤
    ) -> Action:
        """
        í˜„ì¬ ìƒí™©ì—ì„œ ë‹¤ìŒ ì•¡ì…˜ ê²°ì •
        
        OpenManusì˜ think() + act()ë¥¼ í•˜ë‚˜ë¡œ í•©ì¹œ ê²ƒ
        """
        # UI ìš”ì†Œë“¤ì„ ë²ˆí˜¸ë¡œ ë¼ë²¨ë§
        elements = self._parse_ui_elements(ui_hierarchy)
        labeled_screenshot = self._create_labeled_screenshot(
            screenshot, 
            elements
        )
        
        # LLMì—ê²Œ ì§ˆë¬¸
        prompt = f"""
        í˜„ì¬ ëª©í‘œ: {current_goal}
        
        í™”ë©´ì˜ UI ìš”ì†Œë“¤:
        {self._format_elements(elements)}
        
        ì´ì „ ì•¡ì…˜ë“¤:
        {self._format_history(history)}
        
        ë‹¤ìŒ ì•¡ì…˜ì„ ê²°ì •í•˜ì„¸ìš”.
        
        ì‚¬ìš© ê°€ëŠ¥í•œ ì•¡ì…˜:
        - tap: í™”ë©´ í„°ì¹˜ (element_id ë˜ëŠ” x,y)
        - swipe: ìŠ¤ì™€ì´í”„ (direction: up/down/left/right)
        - input: í…ìŠ¤íŠ¸ ì…ë ¥ (element_id, text)
        - back: ë’¤ë¡œê°€ê¸°
        - home: í™ˆ ë²„íŠ¼
        
        ì‘ë‹µ í˜•ì‹:
        ### Thought
        (ìƒê° ê³¼ì •)
        
        ### Action
        {{"type": "tap", "element_id": 3}}
        
        ### Description
        (ì™œ ì´ ì•¡ì…˜ì„ ì„ íƒí–ˆëŠ”ì§€)
        """
        
        response = await self.llm.ask(
            prompt,
            image=labeled_screenshot
        )
        
        # ì‘ë‹µ íŒŒì‹±
        parsed = parse_executor_response(response)
        
        return Action(
            type=parsed["action"]["type"],
            params=parsed["action"]["params"],
            thought=parsed["thought"],
            description=parsed["description"]
        )
```

**Executor ì‘ë‹µ íŒŒì‹±:**
```python
def parse_executor_response(response: str) -> dict:
    """
    Executor LLMì˜ ì‘ë‹µ íŒŒì‹±
    
    ì…ë ¥ ì˜ˆì‹œ:
    ### Thought
    ê¸€ì“°ê¸° ë²„íŠ¼ì´ í™”ë©´ í•˜ë‹¨ ì¤‘ì•™ì— ë³´ì¸ë‹¤.
    element_id 5ë²ˆì´ í•´ë‹¹ ë²„íŠ¼ì¸ ê²ƒ ê°™ë‹¤.
    
    ### Action
    {"type": "tap", "element_id": 5}
    
    ### Description
    ê¸€ì“°ê¸° í™”ë©´ìœ¼ë¡œ ì§„ì…í•˜ê¸° ìœ„í•´ ë²„íŠ¼ì„ íƒ­í•©ë‹ˆë‹¤.
    
    ì¶œë ¥:
    {
        "thought": "ê¸€ì“°ê¸° ë²„íŠ¼ì´ í™”ë©´ í•˜ë‹¨...",
        "action": {"type": "tap", "element_id": 5},
        "description": "ê¸€ì“°ê¸° í™”ë©´ìœ¼ë¡œ..."
    }
    """
    # ### ê¸°ì¤€ìœ¼ë¡œ ë¶„í• 
    sections = response.split("###")
    
    thought = ""
    action_str = ""
    description = ""
    
    for section in sections:
        if "Thought" in section:
            thought = section.split("Thought")[1].split("###")[0].strip()
        elif "Action" in section:
            action_str = section.split("Action")[1].split("###")[0].strip()
        elif "Description" in section:
            description = section.split("Description")[1].strip()
    
    # JSON ì¶”ì¶œ
    json_match = re.search(r'\{.*\}', action_str, re.DOTALL)
    if json_match:
        action = json.loads(json_match.group())
    else:
        action = {}
    
    return {
        "thought": thought,
        "action": action,
        "description": description
    }
```

### 3.3 ë„êµ¬(Tools) ì‹œìŠ¤í…œ

DroidRunì˜ ë„êµ¬ëŠ” ì‹¤ì œ Android/iOS ê¸°ê¸°ë¥¼ ì œì–´í•˜ëŠ” "ì†ê³¼ ë°œ"ì…ë‹ˆë‹¤.

#### 3.3.1 AdbTools - Android ì œì–´

**íŒŒì¼ ìœ„ì¹˜:** `droidrun/tools/adb.py`

ğŸ“– **ADB (Android Debug Bridge)**
â”œâ”€ **ì •ì˜**: Android ê¸°ê¸°ì™€ PCë¥¼ ì—°ê²°í•´ ëª…ë ¹ì„ ì „ë‹¬í•˜ëŠ” ê³µì‹ ë„êµ¬
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ë¦¬ëª¨ì»¨
â”‚  - TV ë¦¬ëª¨ì»¨ìœ¼ë¡œ ì±„ë„ ë³€ê²½, ë³¼ë¥¨ ì¡°ì ˆ
â”‚  - ADBë¡œ ì•± ì‹¤í–‰, í™”ë©´ í„°ì¹˜, ìŠ¤í¬ë¦°ìƒ·
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  PC â”€[USB/WiFi]â”€ Android ê¸°ê¸°
â”‚    â”‚
â”‚    â””â”€ adb ëª…ë ¹ ì „ì†¡
â”‚       ì˜ˆ: "adb shell input tap 500 1000"
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: Android ì‹œìŠ¤í…œì— ì ‘ê·¼í•´ ìë™í™”í•˜ë ¤ë©´ ADB í•„ìˆ˜

```python
class AdbTools:
    def __init__(self, device_serial: str = None):
        """
        ADB ë„êµ¬ ì´ˆê¸°í™”
        
        device_serial: íŠ¹ì • ê¸°ê¸° ì§€ì • (ì—†ìœ¼ë©´ ìë™ ì„ íƒ)
        """
        self.device_serial = device_serial or self._get_default_device()
    
    def _get_default_device(self) -> str:
        """ì—°ê²°ëœ ì²« ë²ˆì§¸ ê¸°ê¸° ì„ íƒ"""
        result = subprocess.run(
            ["adb", "devices"],
            capture_output=True,
            text=True
        )
        # ì¶œë ¥ ì˜ˆ:
        # List of devices attached
        # emulator-5554    device
        
        lines = result.stdout.strip().split('\n')[1:]
        if lines:
            return lines[0].split('\t')[0]
        raise Exception("ì—°ê²°ëœ ê¸°ê¸° ì—†ìŒ")
    
    def screenshot(self) -> bytes:
        """
        í™”ë©´ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜
        
        ë°˜í™˜: PNG ì´ë¯¸ì§€ ë°”ì´íŠ¸
        """
        result = subprocess.run(
            ["adb", "-s", self.device_serial, 
             "exec-out", "screencap", "-p"],
            capture_output=True
        )
        return result.stdout
    
    def dump_ui_hierarchy(self) -> str:
        """
        í˜„ì¬ í™”ë©´ì˜ UI ìš”ì†Œë“¤ì„ XMLë¡œ ì¶”ì¶œ
        
        ë°˜í™˜: UI hierarchy XML ë¬¸ìì—´
        """
        # 1. UI hierarchyë¥¼ XML íŒŒì¼ë¡œ ì €ì¥
        subprocess.run([
            "adb", "-s", self.device_serial,
            "shell", "uiautomator", "dump", "/sdcard/window_dump.xml"
        ])
        
        # 2. XML íŒŒì¼ ë‚´ìš© ê°€ì ¸ì˜¤ê¸°
        result = subprocess.run([
            "adb", "-s", self.device_serial,
            "shell", "cat", "/sdcard/window_dump.xml"
        ], capture_output=True, text=True)
        
        return result.stdout
    
    def tap(self, x: int, y: int):
        """
        í™”ë©´ í„°ì¹˜
        
        x, y: í„°ì¹˜í•  ì¢Œí‘œ (í”½ì…€)
        """
        subprocess.run([
            "adb", "-s", self.device_serial,
            "shell", "input", "tap", str(x), str(y)
        ])
    
    def swipe(
        self, 
        start_x: int, start_y: int,
        end_x: int, end_y: int,
        duration: int = 300
    ):
        """
        ìŠ¤ì™€ì´í”„ (ë“œë˜ê·¸)
        
        start_x, start_y: ì‹œì‘ ì¢Œí‘œ
        end_x, end_y: ë ì¢Œí‘œ
        duration: ì†Œìš” ì‹œê°„ (ms)
        """
        subprocess.run([
            "adb", "-s", self.device_serial,
            "shell", "input", "swipe",
            str(start_x), str(start_y),
            str(end_x), str(end_y),
            str(duration)
        ])
    
    def input_text(self, text: str):
        """
        í…ìŠ¤íŠ¸ ì…ë ¥
        
        ì£¼ì˜: ê³µë°±ì€ %së¡œ ë³€í™˜ í•„ìš”
        """
        # ê³µë°± ì²˜ë¦¬
        text = text.replace(" ", "%s")
        
        subprocess.run([
            "adb", "-s", self.device_serial,
            "shell", "input", "text", text
        ])
    
    def press_key(self, keycode: str):
        """
        í‚¤ ì…ë ¥ (ë’¤ë¡œê°€ê¸°, í™ˆ ë“±)
        
        keycode: 
        - "KEYCODE_BACK": ë’¤ë¡œê°€ê¸°
        - "KEYCODE_HOME": í™ˆ
        - "KEYCODE_ENTER": ì—”í„°
        """
        subprocess.run([
            "adb", "-s", self.device_serial,
            "shell", "input", "keyevent", keycode
        ])
    
    def launch_app(self, package: str):
        """
        ì•± ì‹¤í–‰
        
        package: ì•± íŒ¨í‚¤ì§€ëª…
        ì˜ˆ: "com.nhn.android.blog"
        """
        subprocess.run([
            "adb", "-s", self.device_serial,
            "shell", "monkey", "-p", package,
            "-c", "android.intent.category.LAUNCHER", "1"
        ])
```

**UI Hierarchy ì˜ˆì‹œ:**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<hierarchy rotation="0">
  <node index="0" text="" resource-id="" class="android.widget.FrameLayout" ...>
    <node index="0" text="ë„¤ì´ë²„ ë¸”ë¡œê·¸" resource-id="com.nhn.android.blog:id/title" 
          class="android.widget.TextView" clickable="false" 
          bounds="[50,100][500,200]"/>
    
    <node index="1" text="ê¸€ì“°ê¸°" resource-id="com.nhn.android.blog:id/btn_write" 
          class="android.widget.Button" clickable="true" 
          bounds="[540,1800][620,1900]"/>
    
    <node index="2" text="" resource-id="com.nhn.android.blog:id/edit_title" 
          class="android.widget.EditText" clickable="true" 
          bounds="[40,300][720,400]"/>
  </node>
</hierarchy>
```

ì´ XMLì„ íŒŒì‹±í•˜ë©´:
```python
[
    {
        "id": 1,
        "class": "TextView",
        "text": "ë„¤ì´ë²„ ë¸”ë¡œê·¸",
        "resource_id": "title",
        "clickable": False,
        "bounds": (50, 100, 500, 200),
        "center": (275, 150)
    },
    {
        "id": 2,
        "class": "Button",
        "text": "ê¸€ì“°ê¸°",
        "resource_id": "btn_write",
        "clickable": True,
        "bounds": (540, 1800, 620, 1900),
        "center": (580, 1850)  # â† ì—¬ê¸°ë¥¼ tap!
    },
    ...
]
```

#### 3.3.2 Portal - ë” ê°•ë ¥í•œ ì œì–´

**íŒŒì¼ ìœ„ì¹˜:** `droidrun/tools/portal_client.py`

ğŸ“– **DroidRun Portal**
â”œâ”€ **ì •ì˜**: ADBë³´ë‹¤ ë” ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” Android ì•±
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ADBëŠ” ë¦¬ëª¨ì»¨, Portalì€ ì§ì ‘ ì¡°ì‘
â”‚  - ADB: ì™¸ë¶€ì—ì„œ ëª…ë ¹ ì „ì†¡ (ì œí•œì )
â”‚  - Portal: ë‚´ë¶€ì—ì„œ ì§ì ‘ ì‹¤í–‰ (ê°•ë ¥)
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: 
â”‚  ```
â”‚  1. Portal ì•±ì„ Androidì— ì„¤ì¹˜
â”‚  2. Accessibility Service ê¶Œí•œ ë¶€ì—¬
â”‚  3. PCì—ì„œ HTTPë¡œ ëª…ë ¹ ì „ì†¡
â”‚  4. Portalì´ ì•± ë‚´ë¶€ì—ì„œ ì§ì ‘ UI ì¡°ì‘
â”‚  ```
â””â”€ **ì¡´ì¬ ì´ìœ **: ADBëŠ” ì¼ë¶€ ì•±/ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ì œí•œì  (ë³´ì•ˆ ì•±, ë¯¼ê°í•œ UI ë“±)

**Portalì˜ ì¥ì :**
```python
# ADB: ì¢Œí‘œë§Œ ì§€ì›
adb.tap(500, 1000)  # í™”ë©´ íšŒì „ ì‹œ ë¬¸ì œ!

# Portal: ìš”ì†Œ IDë¡œ ì§ì ‘ ì ‘ê·¼
portal.tap(element_id="btn_write")  # ì•ˆì „í•˜ê³  ì •í™•

# Portal: ë” ë§ì€ ì •ë³´
portal.get_element_text(element_id="title")  # í…ìŠ¤íŠ¸ ì½ê¸°
portal.wait_for_element(element_id="loading", disappear=True)  # ë¡œë”© ëŒ€ê¸°
```

---

## 4. ë‘ í”„ë¡œì íŠ¸ í†µí•© ì „ëµ

> **"OpenManusì˜ ë‘ë‡Œ + DroidRunì˜ ì†ë°œ = ì™„ë²½í•œ ìë™í™”"**

### 4.1 í†µí•© ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           í†µí•© ì‹œìŠ¤í…œ ì „ì²´ êµ¬ì¡°                            â”‚
â”‚                                                           â”‚
â”‚  ì‚¬ìš©ì: "ë„¤ì´ë²„ ë¸”ë¡œê·¸ì— ê°•ë‚¨ ë§›ì§‘ ê¸€ ì‘ì„±"                â”‚
â”‚     â”‚                                                     â”‚
â”‚     â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚  OpenManus (ì´ê´„ ì§€íœ˜ì)             â”‚                 â”‚
â”‚  â”‚                                     â”‚                 â”‚
â”‚  â”‚  1. ì‘ì—… ë¶„ì„                        â”‚                 â”‚
â”‚  â”‚     "ì›¹ ë¦¬ì„œì¹˜ + ëª¨ë°”ì¼ í¬ìŠ¤íŒ…"      â”‚                 â”‚
â”‚  â”‚                                     â”‚                 â”‚
â”‚  â”‚  2. ë‹¨ê³„ ê³„íš                        â”‚                 â”‚
â”‚  â”‚     Step 1: êµ¬ê¸€ ê²€ìƒ‰ (BrowserUse)  â”‚                 â”‚
â”‚  â”‚     Step 2: ë¸”ë¡œê·¸ í¬ë¡¤ë§           â”‚                 â”‚
â”‚  â”‚     Step 3: ì½˜í…ì¸  ìƒì„± (LLM)       â”‚                 â”‚
â”‚  â”‚     Step 4: ëª¨ë°”ì¼ í¬ìŠ¤íŒ… (DroidRun)â”‚                 â”‚
â”‚  â”‚                                     â”‚                 â”‚
â”‚  â”‚  3. ë„êµ¬ ì„ íƒ & ì‹¤í–‰                 â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚            â”‚                   â”‚                         â”‚
â”‚            â–¼                   â–¼                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  BrowserUseTool  â”‚  â”‚  DroidRunAdapter â”‚             â”‚
â”‚  â”‚                  â”‚  â”‚        â”‚         â”‚             â”‚
â”‚  â”‚  (ì›¹ ìë™í™”)      â”‚  â”‚        â–¼         â”‚             â”‚
â”‚  â”‚                  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚             â”‚
â”‚  â”‚  Playwright      â”‚  â”‚  â”‚ DroidAgent â”‚  â”‚             â”‚
â”‚  â”‚     â†“            â”‚  â”‚  â”‚     â”‚      â”‚  â”‚             â”‚
â”‚  â”‚  ì›¹ì‚¬ì´íŠ¸ ì œì–´    â”‚  â”‚  â”‚     â”œâ”€ Manager             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚     â”œâ”€ Executor             â”‚
â”‚                        â”‚  â”‚     â””â”€ ADB/Portal            â”‚
â”‚                        â”‚  â”‚         â”‚      â”‚  â”‚             â”‚
â”‚                        â”‚  â”‚         â–¼      â”‚  â”‚             â”‚
â”‚                        â”‚  â”‚    Android ì œì–´ â”‚  â”‚             â”‚
â”‚                        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚             â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 DroidRunAdapter êµ¬í˜„

OpenManusì˜ ë„êµ¬ ì¸í„°í˜ì´ìŠ¤(`BaseTool`)ì— ë§ê²Œ DroidRunì„ ê°ì‹¸ëŠ” ì–´ëŒ‘í„°ë¥¼ ë§Œë“­ë‹ˆë‹¤.

**íŒŒì¼ ìœ„ì¹˜:** `app/tool/droidrun_adapter.py` (OpenManus í”„ë¡œì íŠ¸ì— ìƒì„±)

```python
from app.tool.base import BaseTool, ToolResult
from droidrun.agent.droid import DroidAgent

class DroidRunAdapter(BaseTool):
    """
    DroidRunì„ OpenManus ë„êµ¬ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì–´ëŒ‘í„°
    
    OpenManusì˜ BaseTool ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
    â†’ Manusê°€ ë‹¤ë¥¸ ë„êµ¬ì²˜ëŸ¼ DroidRun ì‚¬ìš© ê°€ëŠ¥
    """
    
    name = "droidrun_mobile"
    description = """
    Android ëª¨ë°”ì¼ ê¸°ê¸°ë¥¼ ìì—°ì–´ë¡œ ì œì–´í•©ë‹ˆë‹¤.
    
    í•  ìˆ˜ ìˆëŠ” ì¼:
    - ë„¤ì´í‹°ë¸Œ ì•± ìë™í™” (ë„¤ì´ë²„, ì¸ìŠ¤íƒ€ê·¸ë¨, ìœ íŠœë¸Œ ë“±)
    - ì•± ì‹¤í–‰ ë° ì¡°ì‘
    - í…ìŠ¤íŠ¸ ì…ë ¥
    - ë²„íŠ¼ í´ë¦­
    - ìŠ¤í¬ë¡¤ ë° ì œìŠ¤ì²˜
    - ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜
    
    ì£¼ì˜ì‚¬í•­:
    - Android ê¸°ê¸°ê°€ ADBë¡œ ì—°ê²°ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤
    - DroidRun Portal ì•±ì´ ì„¤ì¹˜ë˜ì–´ ìˆìœ¼ë©´ ë” ì•ˆì •ì ì…ë‹ˆë‹¤
    - ì‘ì—…ì— 30ì´ˆ~2ë¶„ ì •ë„ ì†Œìš”ë©ë‹ˆë‹¤
    
    ì‚¬ìš© ì˜ˆ:
    - "ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì•±ì—ì„œ ê¸€ ì‘ì„±"
    - "ì¸ìŠ¤íƒ€ê·¸ë¨ì— ì‚¬ì§„ ì—…ë¡œë“œ"
    - "ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ë©”ì‹œì§€ ì „ì†¡"
    """
    
    parameters = {
        "type": "object",
        "properties": {
            "task": {
                "type": "string",
                "description": "ëª¨ë°”ì¼ì—ì„œ ìˆ˜í–‰í•  ì‘ì—… (ìì—°ì–´ë¡œ êµ¬ì²´ì ìœ¼ë¡œ)"
            },
            "app_name": {
                "type": "string",
                "description": "íƒ€ê²Ÿ ì•± ì´ë¦„ (ì„ íƒ, ì˜ˆ: 'ë„¤ì´ë²„ ë¸”ë¡œê·¸', 'ì¸ìŠ¤íƒ€ê·¸ë¨')"
            },
            "max_steps": {
                "type": "integer",
                "default": 30,
                "description": "ìµœëŒ€ ì‹œë„ íšŸìˆ˜"
            }
        },
        "required": ["task"]
    }
    
    def __init__(self):
        """ì–´ëŒ‘í„° ì´ˆê¸°í™”"""
        super().__init__()
        # DroidRun ì„¤ì • ë¡œë“œ (config.tomlì—ì„œ)
        from app.config import config
        
        self.device_serial = config.droidrun.get("device_serial")
        self.llm_provider = config.droidrun.get("llm_provider", "anthropic")
        self.llm_model = config.droidrun.get("llm_model", "claude-3-5-sonnet")
    
    async def execute(
        self, 
        task: str,
        app_name: str = None,
        max_steps: int = 30
    ) -> ToolResult:
        """
        ëª¨ë°”ì¼ ì‘ì—… ì‹¤í–‰
        
        ë™ì‘ ê³¼ì •:
        1. DroidAgent ìƒì„±
        2. ëª©í‘œ ë‹¬ì„±ê¹Œì§€ ì‹¤í–‰ (Manager + Executor)
        3. ê²°ê³¼ ë°˜í™˜
        """
        try:
            # ì‘ì—… í”„ë¡¬í”„íŠ¸ ê°•í™”
            enhanced_task = self._enhance_task(task, app_name)
            
            # DroidAgent ìƒì„±
            agent = DroidAgent(
                goal=enhanced_task,
                llm_provider=self.llm_provider,
                llm_model=self.llm_model,
                device_serial=self.device_serial,
                max_steps=max_steps
            )
            
            # ì‹¤í–‰
            result = await agent.run()
            
            # ì„±ê³µ/ì‹¤íŒ¨ íŒë‹¨
            if result["success"]:
                return ToolResult(
                    output=f"""
âœ… ëª¨ë°”ì¼ ì‘ì—… ì™„ë£Œ!

ì‘ì—…: {task}
ì†Œìš” ë‹¨ê³„: {result['steps']}
ìƒíƒœ: ì„±ê³µ

ì‹¤í–‰ ë‚´ì—­:
{self._format_trajectory(result['trajectory'])}
                    """.strip()
                )
            else:
                # ì‹¤íŒ¨í–ˆì§€ë§Œ ë¶€ë¶„ ì„±ê³µ ê°€ëŠ¥
                return ToolResult(
                    output=f"""
âš ï¸ ëª¨ë°”ì¼ ì‘ì—… ë¯¸ì™„ë£Œ

ì‘ì—…: {task}
ì†Œìš” ë‹¨ê³„: {result['steps']} (ìµœëŒ€ {max_steps})
ìƒíƒœ: ì‹œê°„ ì´ˆê³¼ ë˜ëŠ” ëª©í‘œ ë¯¸ë‹¬ì„±

ì‹¤í–‰ ë‚´ì—­:
{self._format_trajectory(result['trajectory'])}

ì œì•ˆ: max_stepsë¥¼ ëŠ˜ë¦¬ê±°ë‚˜ ì‘ì—…ì„ ë” ì‘ê²Œ ë‚˜ëˆ„ì„¸ìš”.
                    """.strip()
                )
                
        except Exception as e:
            return ToolResult(
                error=f"ëª¨ë°”ì¼ ì‘ì—… ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜: {str(e)}"
            )
    
    def _enhance_task(self, task: str, app_name: str = None) -> str:
        """
        ì‘ì—… í”„ë¡¬í”„íŠ¸ë¥¼ ë” êµ¬ì²´ì ìœ¼ë¡œ ê°•í™”
        
        ì•±ë³„ ê°€ì´ë“œ ë¬¸ì„œë¥¼ ì½ì–´ì„œ ì£¼ì… ê°€ëŠ¥
        """
        if app_name == "ë„¤ì´ë²„ ë¸”ë¡œê·¸":
            # ë„¤ì´ë²„ ë¸”ë¡œê·¸ ê°€ì´ë“œ ë¡œë“œ
            guide = self._load_app_guide("naver_blog")
            if guide:
                return f"{task}\n\nì•± ì‚¬ìš© ê°€ì´ë“œ:\n{guide}"
        
        return task
    
    def _load_app_guide(self, app_id: str) -> str:
        """
        ì•±ë³„ ê°€ì´ë“œ ë¬¸ì„œ ë¡œë“œ
        
        íŒŒì¼: docs/app_guides/{app_id}_guide.md
        """
        import os
        guide_path = f"docs/app_guides/{app_id}_guide.md"
        
        if os.path.exists(guide_path):
            with open(guide_path, 'r', encoding='utf-8') as f:
                return f.read()
        return ""
    
    def _format_trajectory(self, trajectory: list) -> str:
        """ì‹¤í–‰ ê³¼ì •ì„ ì½ê¸° ì‰½ê²Œ í¬ë§·"""
        lines = []
        for i, action in enumerate(trajectory, 1):
            lines.append(f"{i}. {action.get('description', action.get('type'))}")
        return "\n".join(lines)
```

### 4.3 Manusì— DroidRun ë“±ë¡

**íŒŒì¼ ìœ„ì¹˜:** `app/agent/manus.py` (OpenManus)

```python
from app.tool.droidrun_adapter import DroidRunAdapter

class Manus(ToolCallAgent):
    # ê¸°ì¡´ ì½”ë“œ...
    
    @classmethod
    async def create(cls, **kwargs) -> "Manus":
        """
        Manus ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
        
        DroidRunì„ ìë™ìœ¼ë¡œ ë“±ë¡
        """
        instance = cls(**kwargs)
        
        # ê¸°ë³¸ MCP ì„œë²„ ì—°ê²°
        await instance.initialize_mcp_servers()
        
        # DroidRun ë„êµ¬ ì¶”ê°€ ì‹œë„
        try:
            droidrun_tool = DroidRunAdapter()
            
            # í™˜ê²½ ê²€ì¦ (ADB, ê¸°ê¸° ì—°ê²° ë“±)
            if droidrun_tool.validate_environment():
                instance.available_tools.add_tools(droidrun_tool)
                logger.info("âœ… DroidRun ëª¨ë°”ì¼ ìë™í™” ë„êµ¬ê°€ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤")
            else:
                logger.warning("âš ï¸ DroidRun í™˜ê²½ì´ ì¤€ë¹„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤ (ê¸°ê¸° ë¯¸ì—°ê²° ë˜ëŠ” ADB ì—†ìŒ)")
        except Exception as e:
            logger.warning(f"âš ï¸ DroidRun ë¡œë“œ ì‹¤íŒ¨: {e}")
        
        instance._initialized = True
        return instance
```

### 4.4 ì„¤ì • íŒŒì¼ ì—…ë°ì´íŠ¸

**íŒŒì¼ ìœ„ì¹˜:** `config/config.toml` (OpenManus)

```toml
# LLM ì„¤ì •
[llm]
model = "gpt-4o"
api_key = "sk-..."

# DroidRun ì„¤ì •
[droidrun]
enabled = true
llm_provider = "anthropic"  # OpenAI, Anthropic, Gemini ì¤‘ ì„ íƒ
llm_model = "claude-3-5-sonnet-20241022"
device_serial = ""  # ë¹„ì–´ìˆìœ¼ë©´ ìë™ ê°ì§€
max_steps = 30
```

### 4.5 í†µí•© ì‚¬ìš© ì˜ˆì‹œ

#### ì˜ˆì‹œ 1: ì›¹ ë¦¬ì„œì¹˜ â†’ ëª¨ë°”ì¼ í¬ìŠ¤íŒ…

```python
# main.py
async def main():
    agent = await Manus.create()
    
    result = await agent.run("""
ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì„¸ìš”:

1ë‹¨ê³„: ì›¹ ë¦¬ì„œì¹˜
- êµ¬ê¸€ì—ì„œ "ê°•ë‚¨ ë§›ì§‘ 2025" ê²€ìƒ‰
- ìƒìœ„ 3ê°œ ë¸”ë¡œê·¸ ë‚´ìš© í¬ë¡¤ë§
- í•µì‹¬ ì •ë³´ ì¶”ì¶œ (ë§›ì§‘ ì´ë¦„, ìœ„ì¹˜, íŠ¹ì§•, ê°€ê²©ëŒ€)

2ë‹¨ê³„: ì½˜í…ì¸  ìƒì„±
- ì¶”ì¶œí•œ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ 1000ì ë¸”ë¡œê·¸ ê¸€ ì‘ì„±
- ì œëª©: "2025ë…„ ê°•ë‚¨ í•«í”Œ ë§›ì§‘ BEST 3"
- êµ¬ì¡°: ì†Œê°œ â†’ ë§›ì§‘ë³„ ì„¤ëª… â†’ ì´í‰

3ë‹¨ê³„: ëª¨ë°”ì¼ í¬ìŠ¤íŒ…
- Android ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì•± ì‹¤í–‰
- ìƒì„±í•œ ê¸€ì„ ì œëª©ê³¼ ë³¸ë¬¸ì— ì…ë ¥
- ë°œí–‰í•˜ê¸°

ëª¨ë“  ë‹¨ê³„ë¥¼ ìë™ìœ¼ë¡œ ì™„ìˆ˜í•˜ì„¸ìš”.
    """)
    
    print(result)
    await agent.cleanup()

if __name__ == "__main__":
    asyncio.run(main())
```

**ì‹¤í–‰ íë¦„:**

```
[Manus ì´ˆê¸°í™”]
âœ… GPT-4o ì—°ê²°
âœ… BrowserUseTool ë“±ë¡
âœ… DroidRunAdapter ë“±ë¡
âœ… ì¤€ë¹„ ì™„ë£Œ

[Step 1] Think
"3ë‹¨ê³„ ì‘ì—…ì„ ìˆœì°¨ì ìœ¼ë¡œ ì§„í–‰í•´ì•¼ í•¨"
â†’ tool_calls = [{"name": "browser_use", "arguments": {"task": "êµ¬ê¸€ ê²€ìƒ‰..."}}]

[Step 1] Act (BrowserUseTool)
- google.com ì ‘ì†
- "ê°•ë‚¨ ë§›ì§‘ 2025" ê²€ìƒ‰
- ìƒìœ„ 3ê°œ ë¸”ë¡œê·¸ í¬ë¡¤ë§
â†’ ê²°ê³¼: ë§›ì§‘ ì •ë³´ ì¶”ì¶œ ì™„ë£Œ

[Step 2] Think
"í¬ë¡¤ë§ ì™„ë£Œ. ì´ì œ ì½˜í…ì¸  ìƒì„±"
â†’ tool_calls = []  (LLMì´ ì§ì ‘ ê¸€ ì‘ì„±)

[Step 2] Act
(ë„êµ¬ ì—†ì´ LLMì´ 1000ì ë¸”ë¡œê·¸ ê¸€ ìƒì„±)
â†’ ê²°ê³¼: ì œëª© + ë³¸ë¬¸ ì™„ì„±

[Step 3] Think
"ì´ì œ ëª¨ë°”ì¼ë¡œ í¬ìŠ¤íŒ…"
â†’ tool_calls = [{"name": "droidrun_mobile", "arguments": {...}}]

[Step 3] Act (DroidRunAdapter)
DroidAgent ì‹¤í–‰:
  [Manager] ê³„íš ìˆ˜ë¦½
  - ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì•± ì‹¤í–‰
  - ê¸€ì“°ê¸° í™”ë©´ ì§„ì…
  - ì œëª©/ë³¸ë¬¸ ì…ë ¥
  - ë°œí–‰

  [Executor] ì‹¤í–‰
  - í™ˆ í™”ë©´ì—ì„œ ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì•„ì´ì½˜ íƒ­
  - ë¡œë”© ëŒ€ê¸°
  - ê¸€ì“°ê¸° ë²„íŠ¼ íƒ­
  - ì œëª© ì…ë ¥ë€ íƒ­ â†’ í…ìŠ¤íŠ¸ ì…ë ¥
  - ë³¸ë¬¸ ì…ë ¥ë€ íƒ­ â†’ í…ìŠ¤íŠ¸ ì…ë ¥
  - ë°œí–‰ ë²„íŠ¼ íƒ­

  âœ… ì™„ë£Œ!

[Step 4] Think
"ëª¨ë“  ì‘ì—… ì™„ë£Œ"
â†’ tool_calls = [{"name": "Terminate"}]

[ìµœì¢… ê²°ê³¼]
âœ… ì‘ì—… ì™„ë£Œ!
- ì›¹ ë¦¬ì„œì¹˜: 3ê°œ ë¸”ë¡œê·¸ ë¶„ì„
- ì½˜í…ì¸ : 1023ì ìƒì„±
- í¬ìŠ¤íŒ…: ë„¤ì´ë²„ ë¸”ë¡œê·¸ ë°œí–‰ ì„±ê³µ
```

---

## 5. ì‹¤ì „ í™œìš© ê°€ì´ë“œ

### 5.1 ê°œë°œ í™˜ê²½ ì„¤ì •

#### 1. í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜

```bash
# Python 3.12 ì„¤ì¹˜ (í•„ìˆ˜)
python --version  # 3.12 ì´ìƒ í™•ì¸

# uv ì„¤ì¹˜ (íŒ¨í‚¤ì§€ ê´€ë¦¬ì, ì¶”ì²œ)
curl -LsSf https://astral.sh/uv/install.sh | sh

# Android SDK Platform Tools (ADB í¬í•¨)
# Mac
brew install android-platform-tools

# Ubuntu/WSL
sudo apt update
sudo apt install android-tools-adb android-tools-fastboot

# Windows
# https://developer.android.com/tools/releases/platform-tools ì—ì„œ ë‹¤ìš´ë¡œë“œ
```

#### 2. í”„ë¡œì íŠ¸ ì„¤ì¹˜

```bash
# ì‘ì—… ë””ë ‰í† ë¦¬ ìƒì„±
mkdir ~/ai-automation
cd ~/ai-automation

# OpenManus í´ë¡  & ì„¤ì¹˜
git clone https://github.com/FoundationAgents/OpenManus.git
cd OpenManus
uv venv --python 3.12
source .venv/bin/activate  # Windows: .venv\Scripts\activate
uv pip install -r requirements.txt

# Playwright ì„¤ì¹˜ (ë¸Œë¼ìš°ì € ìë™í™”ìš©)
playwright install

# DroidRun ì„¤ì¹˜
cd ..
git clone https://github.com/droidrun/droidrun.git
cd droidrun
pip install -e .
```

#### 3. Android ê¸°ê¸° ì„¤ì •

**ë¬¼ë¦¬ ê¸°ê¸°:**
```bash
# 1. Android ê¸°ê¸°ì—ì„œ ê°œë°œì ì˜µì…˜ í™œì„±í™”
# ì„¤ì • â†’ íœ´ëŒ€ì „í™” ì •ë³´ â†’ ë¹Œë“œ ë²ˆí˜¸ 7ë²ˆ íƒ­

# 2. USB ë””ë²„ê¹… í™œì„±í™”
# ì„¤ì • â†’ ê°œë°œì ì˜µì…˜ â†’ USB ë””ë²„ê¹… ON

# 3. PCì™€ USB ì—°ê²°

# 4. ì—°ê²° í™•ì¸
adb devices
# ì¶œë ¥: List of devices attached
#       XXXXXXXX    device  â† ì´ë ‡ê²Œ ë‚˜ì˜¤ë©´ ì„±ê³µ
```

**ì—ë®¬ë ˆì´í„° (Android Studio):**
```bash
# Android Studio ì„¤ì¹˜ í›„
# Tools â†’ AVD Manager â†’ Create Virtual Device
# Pixel 6 / API 34 (Android 14) ì¶”ì²œ

# ì—ë®¬ë ˆì´í„° ì‹¤í–‰ í›„
adb devices
# ì¶œë ¥: emulator-5554    device
```

#### 4. API í‚¤ ì„¤ì •

**config/config.toml (OpenManus):**
```toml
[llm]
model = "gpt-4o"
base_url = "https://api.openai.com/v1"
api_key = "sk-..."  # OpenAI API í‚¤

# ë˜ëŠ” Anthropic
# model = "claude-3-5-sonnet-20241022"
# base_url = "https://api.anthropic.com"
# api_key = "sk-ant-..."

[droidrun]
enabled = true
llm_provider = "openai"  # ë˜ëŠ” "anthropic"
llm_model = "gpt-4o"
device_serial = ""  # ë¹„ì–´ìˆìœ¼ë©´ ìë™
max_steps = 30
```

### 5.2 ê¸°ë³¸ ì‚¬ìš©ë²•

#### ë‹¨ìˆœ ì›¹ ìë™í™”

```python
# examples/web_search.py
import asyncio
from app.agent.manus import Manus

async def main():
    agent = await Manus.create()
    
    await agent.run("êµ¬ê¸€ì—ì„œ Python íŠœí† ë¦¬ì–¼ ì°¾ì•„ì„œ ìƒìœ„ 5ê°œ ìš”ì•½í•´ì¤˜")
    
    await agent.cleanup()

asyncio.run(main())
```

#### ë‹¨ìˆœ ëª¨ë°”ì¼ ìë™í™”

```python
# examples/mobile_task.py
import asyncio
from droidrun.agent.droid import DroidAgent

async def main():
    agent = DroidAgent(
        goal="ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì•±ì„ ì—´ì–´ì„œ ì²« ë²ˆì§¸ ê¸€ì˜ ì œëª©ì„ ì•Œë ¤ì¤˜",
        llm_provider="openai",
        llm_model="gpt-4o"
    )
    
    result = await agent.run()
    print(result)

asyncio.run(main())
```

#### í†µí•© ìë™í™” (ì›¹ + ëª¨ë°”ì¼)

```python
# examples/integrated_automation.py
import asyncio
from app.agent.manus import Manus

async def main():
    agent = await Manus.create()
    
    await agent.run("""
1. êµ¬ê¸€ì—ì„œ "ì˜¤ëŠ˜ì˜ ë‰´ìŠ¤" ê²€ìƒ‰
2. ì²« ë²ˆì§¸ ë‰´ìŠ¤ ê¸°ì‚¬ ì „ë¬¸ ê°€ì ¸ì˜¤ê¸°
3. 200ìë¡œ ìš”ì•½
4. Android ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ë‚˜ì—ê²Œ ì „ì†¡
    """)
    
    await agent.cleanup()

asyncio.run(main())
```

### 5.3 ì•±ë³„ ê°€ì´ë“œ ë¬¸ì„œ ì‘ì„±

DroidRunì˜ ì„±ëŠ¥ì„ ê·¹ëŒ€í™”í•˜ë ¤ë©´ ìì£¼ ì‚¬ìš©í•˜ëŠ” ì•±ì˜ "ê°€ì´ë“œ ë¬¸ì„œ"ë¥¼ ì‘ì„±í•˜ì„¸ìš”.

**docs/app_guides/naver_blog_guide.md:**
```markdown
# ë„¤ì´ë²„ ë¸”ë¡œê·¸ ëª¨ë°”ì¼ ì•± ì‚¬ìš© ê°€ì´ë“œ

## ì•± ì •ë³´
- íŒ¨í‚¤ì§€ëª…: com.nhn.android.blog
- ë²„ì „: ìµœì‹  (2025ë…„)

## ì£¼ìš” í™”ë©´ ë° íë¦„

### 1. ê¸€ì“°ê¸° ì‹œì‘
í™ˆ í™”ë©´ â†’ í•˜ë‹¨ ì¤‘ì•™ "ê¸€ì“°ê¸°" ë²„íŠ¼ (í”ŒëŸ¬ìŠ¤ ì•„ì´ì½˜)

### 2. ê¸€ ì‘ì„± í™”ë©´
- ìƒë‹¨: ì œëª© ì…ë ¥ë€ (placeholder: "ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”")
- ì¤‘ì•™: ë³¸ë¬¸ ì…ë ¥ë€ (placeholder: "ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”")
- í•˜ë‹¨: ì‚¬ì§„ ì¶”ê°€, íƒœê·¸, ë°œí–‰ ë²„íŠ¼

### 3. ë°œí–‰
ìš°ì¸¡ ìƒë‹¨ "ë°œí–‰" ë²„íŠ¼ â†’ ì¹´í…Œê³ ë¦¬ ì„ íƒ â†’ "ë°œí–‰" í™•ì¸

## ì£¼ì˜ì‚¬í•­
- ë¡œê·¸ì¸ í•„ìˆ˜
- ì œëª©ì€ 50ì ì´ë‚´
- ë³¸ë¬¸ì€ ìµœì†Œ 10ì ì´ìƒ
- ë°œí–‰ ì „ ë¯¸ë¦¬ë³´ê¸° ê¶Œì¥

## UI ìš”ì†Œ ID (ì°¸ê³ )
- ê¸€ì“°ê¸° ë²„íŠ¼: `btn_write`
- ì œëª© ì…ë ¥ë€: `edit_title`
- ë³¸ë¬¸ ì…ë ¥ë€: `edit_content`
- ë°œí–‰ ë²„íŠ¼: `btn_publish`
```

ì´ ê°€ì´ë“œë¥¼ `DroidRunAdapter`ê°€ ìë™ìœ¼ë¡œ ì½ì–´ì„œ LLMì—ê²Œ ì£¼ì… â†’ ì„±ê³µë¥  í–¥ìƒ!

### 5.4 ì‹¤ì „ í”„ë¡œì íŠ¸ ì˜ˆì‹œ

#### í”„ë¡œì íŠ¸ 1: ì¼ê°„ ë‰´ìŠ¤ ìë™ ìš”ì•½ & ê³µìœ 

**ëª©í‘œ:** ë§¤ì¼ ì•„ì¹¨ ë‰´ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ìš”ì•½í•´ì„œ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ì „ì†¡

**êµ¬í˜„:**
```python
# daily_news.py
import asyncio
from datetime import datetime
from app.agent.manus import Manus

async def daily_news_summary():
    agent = await Manus.create()
    
    today = datetime.now().strftime("%Yë…„ %mì›” %dì¼")
    
    await agent.run(f"""
ì˜¤ëŠ˜ ({today}) ì‘ì—…:

1. ë„¤ì´ë²„ ë‰´ìŠ¤ì—ì„œ "ì£¼ìš” ë‰´ìŠ¤" íƒ­ ì ‘ì†
2. ìƒìœ„ 5ê°œ ë‰´ìŠ¤ í—¤ë“œë¼ì¸ & ë³¸ë¬¸ ìˆ˜ì§‘
3. ê° ë‰´ìŠ¤ë¥¼ 50ìë¡œ ìš”ì•½
4. ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ë©”ì‹œì§€ ìƒì„±:
   
   ğŸ“° {today} ë‰´ìŠ¤ ìš”ì•½
   
   1. [í—¤ë“œë¼ì¸]
   - ìš”ì•½...
   
   2. ...

5. Android ì¹´ì¹´ì˜¤í†¡ ì•±ì—ì„œ ë‚˜ì—ê²Œ ì „ì†¡
    """)
    
    await agent.cleanup()

if __name__ == "__main__":
    asyncio.run(daily_news_summary())
```

**ìŠ¤ì¼€ì¤„ë§ (cron):**
```bash
# Linux/Mac crontab
0 8 * * * cd ~/ai-automation && python daily_news.py
# ë§¤ì¼ ì˜¤ì „ 8ì‹œ ì‹¤í–‰
```

#### í”„ë¡œì íŠ¸ 2: ì¸ìŠ¤íƒ€ê·¸ë¨ ìë™ í¬ìŠ¤íŒ…

**ëª©í‘œ:** ì—¬í–‰ ì‚¬ì§„ + AI ìƒì„± ìº¡ì…˜ìœ¼ë¡œ ìë™ í¬ìŠ¤íŒ…

```python
# instagram_auto_post.py
import asyncio
from app.agent.manus import Manus

async def post_to_instagram(image_path: str, location: str):
    agent = await Manus.create()
    
    await agent.run(f"""
ì‘ì—…:

1. ì´ë¯¸ì§€ ë¶„ì„
   - íŒŒì¼: {image_path}
   - ì¥ì†Œ: {location}
   - Vision LLMìœ¼ë¡œ ì´ë¯¸ì§€ ë‚´ìš© íŒŒì•…

2. ìº¡ì…˜ ìƒì„±
   - ê°ì„±ì ì´ê³  íŠ¸ë Œë””í•œ ë¬¸êµ¬
   - í•´ì‹œíƒœê·¸ 10ê°œ í¬í•¨
   - ì´ëª¨ì§€ í™œìš©
   - ì˜ì–´ + í•œêµ­ì–´

3. ì¸ìŠ¤íƒ€ê·¸ë¨ í¬ìŠ¤íŒ…
   - Android ì¸ìŠ¤íƒ€ê·¸ë¨ ì•± ì‹¤í–‰
   - ìƒˆ ê²Œì‹œë¬¼ ë²„íŠ¼
   - ì´ë¯¸ì§€ ì„ íƒ: {image_path}
   - ìº¡ì…˜ ì…ë ¥
   - ìœ„ì¹˜ ì¶”ê°€: {location}
   - ê³µìœ í•˜ê¸°
    """)
    
    await agent.cleanup()

# ì‚¬ìš©
asyncio.run(post_to_instagram(
    image_path="/storage/emulated/0/DCIM/jeju_sunset.jpg",
    location="ì œì£¼ë„ ì„±ì‚°ì¼ì¶œë´‰"
))
```

### 5.5 ë””ë²„ê¹… ë° ë¬¸ì œ í•´ê²°

#### ë¬¸ì œ 1: "DroidRun ë„êµ¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"

**ì›ì¸:** DroidRunAdapterê°€ Manusì— ë“±ë¡ë˜ì§€ ì•ŠìŒ

**í•´ê²°:**
```bash
# ADB ì—°ê²° í™•ì¸
adb devices
# â†’ ê¸°ê¸°ê°€ ë³´ì´ì§€ ì•Šìœ¼ë©´ USB ì¬ì—°ê²°

# OpenManus ë¡œê·¸ í™•ì¸
python main.py
# â†’ "âš ï¸ DroidRun í™˜ê²½ì´ ì¤€ë¹„ë˜ì§€..." ë©”ì‹œì§€ í™•ì¸

# í™˜ê²½ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
python -c "
from app.tool.droidrun_adapter import DroidRunAdapter
tool = DroidRunAdapter()
print(tool.validate_environment())
"
```

#### ë¬¸ì œ 2: "ëª¨ë°”ì¼ ì‘ì—…ì´ ê³„ì† ì‹¤íŒ¨í•©ë‹ˆë‹¤"

**ì›ì¸:** LLMì´ í™”ë©´ì„ ì˜ëª» ì´í•´í•˜ê±°ë‚˜ UI ìš”ì†Œë¥¼ ëª» ì°¾ìŒ

**í•´ê²°:**
1. **ì•± ê°€ì´ë“œ ì‘ì„±**: `docs/app_guides/{app}_guide.md` ìƒì„±
2. **max_steps ì¦ê°€**: ê¸°ë³¸ 30 â†’ 50ìœ¼ë¡œ
3. **ìŠ¤í¬ë¦°ìƒ· í™•ì¸**: DroidRunì€ ê° ë‹¨ê³„ë§ˆë‹¤ ìŠ¤í¬ë¦°ìƒ·ì„ ì €ì¥
   ```bash
   ls ~/.droidrun/screenshots/
   # ì–´ëŠ ë‹¨ê³„ì—ì„œ ë§‰í˜”ëŠ”ì§€ í™•ì¸
   ```
4. **ìˆ˜ë™ í…ŒìŠ¤íŠ¸**: ë¨¼ì € ì§ì ‘ ì•±ì„ ì¡°ì‘í•´ë³´ê³  íë¦„ íŒŒì•…

#### ë¬¸ì œ 3: "í† í° ì œí•œ ì´ˆê³¼"

**ì›ì¸:** ë©”ëª¨ë¦¬ê°€ ë„ˆë¬´ ì»¤ì„œ LLM ì…ë ¥ ì œí•œ ì´ˆê³¼

**í•´ê²°:**
```python
# config/config.toml
[llm]
max_tokens = 8000  # ëŠ˜ë¦¬ê¸°
temperature = 0.0

[agent]
max_observe = 5000  # ë„êµ¬ ê²°ê³¼ ìµœëŒ€ ê¸¸ì (ê¸°ë³¸ 10000)
```

ë˜ëŠ” ì‘ì—…ì„ ë” ì‘ê²Œ ë‚˜ëˆ„ê¸°:
```python
# ë‚˜ìœ ì˜ˆ (í•œ ë²ˆì— ë„ˆë¬´ ë§ìŒ)
await agent.run("10ê°œ ì‚¬ì´íŠ¸ í¬ë¡¤ë§í•˜ê³  ë¶„ì„í•˜ê³  í¬ìŠ¤íŒ…")

# ì¢‹ì€ ì˜ˆ (ë‹¨ê³„ë³„ ë¶„ë¦¬)
result1 = await agent.run("ì‚¬ì´íŠ¸ 5ê°œ í¬ë¡¤ë§")
result2 = await agent.run(f"ì´ì „ ê²°ê³¼ ë¶„ì„: {result1}")
result3 = await agent.run(f"ë¶„ì„ ê²°ê³¼ë¡œ í¬ìŠ¤íŒ…: {result2}")
```

### 5.6 ì„±ëŠ¥ ìµœì í™”

#### 1. LLM ëª¨ë¸ ì„ íƒ

```python
# ë¹ ë¥´ê³  ì €ë ´: GPT-4o-mini, Claude Haiku
config.llm.model = "gpt-4o-mini"

# ê· í˜•: GPT-4o, Claude 3.5 Sonnet (ê¶Œì¥)
config.llm.model = "gpt-4o"

# ìµœê³  ì„±ëŠ¥: Claude 3.5 Opus, o1-preview
config.llm.model = "claude-3-opus-20240229"
```

#### 2. ë³‘ë ¬ ì‹¤í–‰

```python
import asyncio

# ì—¬ëŸ¬ ì‘ì—…ì„ ë™ì‹œì—
async def batch_tasks():
    agent = await Manus.create()
    
    tasks = [
        agent.run("ì‘ì—… 1"),
        agent.run("ì‘ì—… 2"),
        agent.run("ì‘ì—… 3")
    ]
    
    results = await asyncio.gather(*tasks)
    
    await agent.cleanup()
    return results
```

#### 3. ìºì‹± í™œìš©

```python
# OpenManusëŠ” ìë™ìœ¼ë¡œ ë©”ëª¨ë¦¬ ìºì‹±
# ê°™ì€ ì„¸ì…˜ ë‚´ì—ì„œ ì¤‘ë³µ ì‘ì—… ë°©ì§€

agent = await Manus.create()

# ì²« ë²ˆì§¸: ì‹¤ì œ ì‹¤í–‰
await agent.run("Python íŠœí† ë¦¬ì–¼ ê²€ìƒ‰")

# ë‘ ë²ˆì§¸: ì´ì „ ê²°ê³¼ ê¸°ì–µ â†’ ë¹ ë¦„
await agent.run("ë°©ê¸ˆ ì°¾ì€ íŠœí† ë¦¬ì–¼ ì¤‘ ì²« ë²ˆì§¸ ìš”ì•½í•´ì¤˜")
```

---

## 6. ë§ˆì¹˜ë©°

### 6.1 í”„ë¡œì íŠ¸ ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          OpenManus + DroidRun = ìµœê°• ì¡°í•©             â”‚
â”‚                                                       â”‚
â”‚  OpenManus                                            â”‚
â”‚  âœ… ë²”ìš© AI ì—ì´ì „íŠ¸ í”„ë ˆì„ì›Œí¬                        â”‚
â”‚  âœ… ë‹¤ì–‘í•œ ë„êµ¬ í†µí•© (ì›¹, ì½”ë“œ, íŒŒì¼, MCP)             â”‚
â”‚  âœ… ReAct íŒ¨ëŸ¬ë‹¤ì„ìœ¼ë¡œ ë‹¨ê³„ì  ì‚¬ê³                      â”‚
â”‚  âœ… í† í° ê´€ë¦¬, ë¬´í•œ ë£¨í”„ ê°ì§€ ë“± ì‹¤ì „ ê¸°ëŠ¥             â”‚
â”‚                                                       â”‚
â”‚  DroidRun                                             â”‚
â”‚  âœ… ëª¨ë°”ì¼ íŠ¹í™” AI ì—ì´ì „íŠ¸                           â”‚
â”‚  âœ… Manager + Executor ì´ì¤‘ êµ¬ì¡°                      â”‚
â”‚  âœ… Reflectionìœ¼ë¡œ ì‹¤íŒ¨ì—ì„œ í•™ìŠµ                       â”‚
â”‚  âœ… ADB + Portalë¡œ ê°•ë ¥í•œ ì œì–´                        â”‚
â”‚                                                       â”‚
â”‚  í†µí•© ì‹œìŠ¤í…œ                                          â”‚
â”‚  âœ… ì›¹ ë¦¬ì„œì¹˜ â†’ ì½˜í…ì¸  ìƒì„± â†’ ëª¨ë°”ì¼ í¬ìŠ¤íŒ…            â”‚
â”‚  âœ… í•˜ë‚˜ì˜ ìì—°ì–´ ëª…ë ¹ìœ¼ë¡œ ì „ì²´ ìë™í™”                  â”‚
â”‚  âœ… í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜ (ìƒˆ ë„êµ¬ ì¶”ê°€ ì‰¬ì›€)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ë‹¤ìŒ ë‹¨ê³„ ì œì•ˆ

1. **í”„ë¡œí† íƒ€ì… êµ¬ì¶•**
   - ê°„ë‹¨í•œ ì‘ì—…ë¶€í„° ì‹œì‘ (ì›¹ ê²€ìƒ‰, ëª¨ë°”ì¼ ì•± ì‹¤í–‰)
   - ì ì§„ì ìœ¼ë¡œ ë³µì¡ë„ ì¦ê°€

2. **ì•± ê°€ì´ë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ êµ¬ì¶•**
   - ìì£¼ ì‚¬ìš©í•˜ëŠ” ì•± 10ê°œì˜ ê°€ì´ë“œ ì‘ì„±
   - ì»¤ë®¤ë‹ˆí‹°ì™€ ê³µìœ 

3. **ëª¨ë‹ˆí„°ë§ & ë¡œê¹…**
   - ì‹¤í–‰ ê³¼ì • ëª¨ë‘ ê¸°ë¡
   - ì‹¤íŒ¨ ì¼€ì´ìŠ¤ ë¶„ì„
   - ì„±ê³µë¥  ì¶”ì 

4. **í”„ë¡œë•ì…˜í™”**
   - Docker ì»¨í…Œì´ë„ˆí™”
   - í´ë¼ìš°ë“œ ë°°í¬ (AWS, GCP)
   - ìŠ¤ì¼€ì¤„ë§ ìë™í™”

5. **ê¸°ì—¬í•˜ê¸°**
   - OpenManus: https://github.com/FoundationAgents/OpenManus
   - DroidRun: https://github.com/droidrun/droidrun
   - ë²„ê·¸ ë¦¬í¬íŠ¸, PR, ìƒˆ ê¸°ëŠ¥ ì œì•ˆ

### 6.3 ì°¸ê³  ìë£Œ

**OpenManus:**
- ê³µì‹ ë¬¸ì„œ: https://github.com/FoundationAgents/OpenManus
- Discord: https://discord.gg/DYn29wFk9z
- ë°ëª¨: https://huggingface.co/spaces/lyh-917/OpenManusDemo

**DroidRun:**
- ê³µì‹ ë¬¸ì„œ: https://docs.droidrun.ai
- Discord: https://discord.gg/ZZbKEZZkwK
- ë²¤ì¹˜ë§ˆí¬: https://droidrun.ai/benchmark

**ê´€ë ¨ ê¸°ìˆ :**
- ReAct: https://react-lm.github.io/
- Anthropic Computer Use: https://www.anthropic.com/news/computer-use
- MCP: https://modelcontextprotocol.io/
- Browser-Use: https://github.com/browser-use/browser-use

---

**ë¬¸ì„œ ì‘ì„±:** 2025ë…„ (AI Agent ì‹œëŒ€ì˜ ì‹œì‘)
**ë²„ì „:** 1.0
**ë¼ì´ì„ ìŠ¤:** MIT

ì´ ë¬¸ì„œê°€ ë‹¹ì‹ ì˜ AI ì—ì´ì „íŠ¸ ì—¬ì •ì— ë„ì›€ì´ ë˜ê¸°ë¥¼ ë°”ëë‹ˆë‹¤! ğŸš€

