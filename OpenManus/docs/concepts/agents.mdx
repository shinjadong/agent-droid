---
title: ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ
description: OpenManus ì—ì´ì „íŠ¸ì˜ ì‘ë™ ì›ë¦¬ì™€ ì£¼ìš” ì—ì´ì „íŠ¸ë“¤
---

# ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ

OpenManusì˜ **ì—ì´ì „íŠ¸**ëŠ” ì‚¬ìš©ìì˜ ìš”ì²­ì„ ì´í•´í•˜ê³ , ì ì ˆí•œ ë„êµ¬ë¥¼ ì„ íƒí•˜ë©°, ë‹¨ê³„ë³„ë¡œ ì‘ì—…ì„ ì‹¤í–‰í•˜ëŠ” ììœ¨ì ì¸ AI ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## ì—ì´ì „íŠ¸ ê¸°ë³¸ ê°œë…

ğŸ“– **AI ì—ì´ì „íŠ¸**
â”œâ”€ **ì •ì˜**: ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ í™˜ê²½ì„ ê´€ì°°í•˜ê³  í–‰ë™í•˜ëŠ” ììœ¨ì ì¸ AI ì‹œìŠ¤í…œ
â”œâ”€ **ì‰¬ìš´ ë¹„ìœ **: ì—…ë¬´ ì§€ì‹œë¥¼ ë°›ê³  ìŠ¤ìŠ¤ë¡œ ê³„íšì„ ì„¸ì›Œ ì¼ì„ ì²˜ë¦¬í•˜ëŠ” ì§ì›
â”œâ”€ **ë©”ì»¤ë‹ˆì¦˜**: ê´€ì°° â†’ ì‚¬ê³  (LLM) â†’ í–‰ë™ (ë„êµ¬ ì‚¬ìš©) â†’ ê²°ê³¼ í™•ì¸ ì‚¬ì´í´ ë°˜ë³µ
â””â”€ **ì¡´ì¬ ì´ìœ **: ì‚¬ëŒì˜ ê°œì… ì—†ì´ ë³µì¡í•œ ì‘ì—…ì„ ìë™ìœ¼ë¡œ ì™„ìˆ˜í•˜ê¸° ìœ„í•¨

## ì—ì´ì „íŠ¸ ë¼ì´í”„ì‚¬ì´í´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  IDLE   â”‚ â† ì´ˆê¸° ìƒíƒœ
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚ run() í˜¸ì¶œ
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RUNNING â”‚ â† ì‘ì—… ì‹¤í–‰ ì¤‘
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚
     â”œâ”€ step 1 â†’ ë„êµ¬ í˜¸ì¶œ
     â”œâ”€ step 2 â†’ ê²°ê³¼ ë¶„ì„
     â”œâ”€ step 3 â†’ ë‹¤ìŒ ì‘ì—…
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FINISHED â”‚ â† ì‘ì—… ì™„ë£Œ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     or
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ERROR   â”‚ â† ì˜¤ë¥˜ ë°œìƒ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## BaseAgent

ëª¨ë“  ì—ì´ì „íŠ¸ì˜ ê¸°ë³¸ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.

### í•µì‹¬ ì†ì„±

```python
class BaseAgent:
    name: str                    # ì—ì´ì „íŠ¸ ì´ë¦„
    description: str             # ì—ì´ì „íŠ¸ ì„¤ëª…
    system_prompt: str           # ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸
    next_step_prompt: str        # ë‹¤ìŒ ë‹¨ê³„ í”„ë¡¬í”„íŠ¸
    llm: LLM                     # ì–¸ì–´ ëª¨ë¸
    memory: Memory               # ëŒ€í™” ë©”ëª¨ë¦¬
    state: AgentState            # í˜„ì¬ ìƒíƒœ
    max_steps: int = 10          # ìµœëŒ€ ì‹¤í–‰ ë‹¨ê³„
    current_step: int = 0        # í˜„ì¬ ë‹¨ê³„
```

### ì£¼ìš” ë©”ì„œë“œ

#### run()

ì—ì´ì „íŠ¸ì˜ ë©”ì¸ ì‹¤í–‰ ë£¨í”„ì…ë‹ˆë‹¤:

```python
async def run(self, request: Optional[str] = None) -> str:
    """
    ì—ì´ì „íŠ¸ ì‹¤í–‰
    
    Args:
        request: ì‚¬ìš©ì ìš”ì²­
        
    Returns:
        ì‹¤í–‰ ê²°ê³¼ ë¬¸ìì—´
    """
    if request:
        self.update_memory("user", request)
    
    while self.current_step < self.max_steps:
        self.current_step += 1
        await self.step()
        
        if self.is_stuck():
            self.handle_stuck_state()
```

#### step()

ë‹¨ì¼ ì‹¤í–‰ ë‹¨ê³„ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤ (ì¶”ìƒ ë©”ì„œë“œ):

```python
@abstractmethod
async def step(self) -> str:
    """
    í•˜ë‚˜ì˜ ì‹¤í–‰ ë‹¨ê³„ ìˆ˜í–‰
    ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•¨
    """
    pass
```

#### update_memory()

ë©”ëª¨ë¦¬ì— ìƒˆ ë©”ì‹œì§€ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:

```python
def update_memory(
    self,
    role: str,              # "user", "assistant", "tool", "system"
    content: str,           # ë©”ì‹œì§€ ë‚´ìš©
    base64_image: Optional[str] = None,
    **kwargs
) -> None:
    """ë©”ëª¨ë¦¬ì— ë©”ì‹œì§€ ì¶”ê°€"""
```

### ë¬´í•œ ë£¨í”„ ë°©ì§€

ì—ì´ì „íŠ¸ê°€ ê°™ì€ ì‘ì—…ì„ ë°˜ë³µí•  ë•Œ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  ì²˜ë¦¬í•©ë‹ˆë‹¤:

```python
def is_stuck(self) -> bool:
    """
    ë™ì¼í•œ ì‘ë‹µì´ duplicate_threshold(ê¸°ë³¸ 2íšŒ) ì´ìƒ 
    ë°˜ë³µë˜ë©´ True ë°˜í™˜
    """
    
def handle_stuck_state(self):
    """
    ë¬´í•œ ë£¨í”„ ê°ì§€ ì‹œ í”„ë¡¬í”„íŠ¸ì— 
    'ìƒˆë¡œìš´ ì „ëµ ì‹œë„' ë©”ì‹œì§€ ì¶”ê°€
    """
```

## ToolCallAgent

ë„êµ¬ í˜¸ì¶œ ê¸°ëŠ¥ì„ ê°€ì§„ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

```python
class ToolCallAgent(BaseAgent):
    available_tools: ToolCollection
    special_tool_names: List[str]
    
    async def think(self) -> bool:
        """
        LLMì—ê²Œ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì§ˆë¬¸í•˜ê³ 
        ë„êµ¬ í˜¸ì¶œì´ í•„ìš”í•œì§€ íŒë‹¨
        """
        
    async def act(self) -> ToolResult:
        """
        ë„êµ¬ë¥¼ ì‹¤í–‰í•˜ê³  ê²°ê³¼ ë°˜í™˜
        """
```

### think ë‹¨ê³„

```
ë©”ëª¨ë¦¬ ì¤€ë¹„ â†’ LLM í˜¸ì¶œ â†’ ì‘ë‹µ ë¶„ì„
                â†“
         ë„êµ¬ í˜¸ì¶œ í•„ìš”?
         â”œâ”€ Yes â†’ tool_calls ì €ì¥
         â””â”€ No  â†’ í…ìŠ¤íŠ¸ ì‘ë‹µë§Œ ì €ì¥
```

### act ë‹¨ê³„

```
tool_calls í™•ì¸
    â†“
ê° ë„êµ¬ ì‹¤í–‰
    â†“
ê²°ê³¼ ìˆ˜ì§‘
    â†“
ToolResult ë°˜í™˜
```

## ì£¼ìš” ì—ì´ì „íŠ¸ ìœ í˜•

### 1. Manus Agent

ë²”ìš© ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ì£¼ìš” ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

```python
class Manus(ToolCallAgent):
    name = "Manus"
    description = "ë²”ìš© AI ì—ì´ì „íŠ¸"
    
    available_tools = ToolCollection(
        PythonExecute(),
        BrowserUseTool(),
        StrReplaceEditor(),
        AskHuman(),
        Terminate(),
    )
```

**íŠ¹ì§•**:
- MCP í†µí•© ì§€ì›
- ë¸Œë¼ìš°ì € ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬
- ë™ì  ë„êµ¬ ì¶”ê°€/ì œê±°
- ë‹¤ì¤‘ LLM ì§€ì›

**ì‚¬ìš© ì˜ˆì‹œ**:

```python
agent = await Manus.create()
result = await agent.run("Pythonìœ¼ë¡œ í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ ìƒì„±")
```

### 2. DataAnalysis Agent

ë°ì´í„° ë¶„ì„ ë° ì‹œê°í™” ì „ë¬¸ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

**íŠ¹ì§•**:
- Chart.js ê¸°ë°˜ ì‹œê°í™”
- CSV/Excel íŒŒì¼ ì²˜ë¦¬
- í†µê³„ ë¶„ì„
- ê·¸ë˜í”„ ìƒì„±

**ì‚¬ìš© ì˜ˆì‹œ**:

```python
agent = DataAnalysis()
result = await agent.run("sales.csvì˜ ì›”ë³„ ë§¤ì¶œì„ ë§‰ëŒ€ ê·¸ë˜í”„ë¡œ")
```

### 3. MCP Agent

MCP í”„ë¡œí† ì½œì„ í†µí•´ ì™¸ë¶€ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

**íŠ¹ì§•**:
- STDIO/SSE ì—°ê²° ì§€ì›
- ë™ì  ë„êµ¬ ë¡œë”©
- ë©€í‹° ì„œë²„ ì—°ê²°

**ì‚¬ìš© ì˜ˆì‹œ**:

```python
agent = MCPAgent()
await agent.initialize(
    connection_type="stdio",
    command="npx",
    args=["-y", "@modelcontextprotocol/server-filesystem", "/workspace"]
)
result = await agent.run("í˜„ì¬ ë””ë ‰í† ë¦¬ì˜ íŒŒì¼ ëª©ë¡ ë³´ì—¬ì¤˜")
```

### 4. Browser Agent

ë¸Œë¼ìš°ì € ìë™í™” ì „ë¬¸ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

**íŠ¹ì§•**:
- Playwright í†µí•©
- ë©€í‹° í˜ì´ì§€ ê´€ë¦¬
- ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜
- í¼ ìë™ ì…ë ¥

### 5. SWE Agent

ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´ë§ ì‘ì—… ì „ë¬¸ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

**íŠ¹ì§•**:
- ì½”ë“œ ê²€ìƒ‰ ë° ì´í•´
- ë²„ê·¸ ìˆ˜ì •
- í…ŒìŠ¤íŠ¸ ì‘ì„±
- ë¦¬íŒ©í† ë§

## ì»¤ìŠ¤í…€ ì—ì´ì „íŠ¸ ë§Œë“¤ê¸°

### 1. ê°„ë‹¨í•œ ì—ì´ì „íŠ¸

```python
from app.agent.base import BaseAgent
from app.schema import Message

class SimpleAgent(BaseAgent):
    name = "SimpleAgent"
    description = "ê°„ë‹¨í•œ ì˜ˆì œ ì—ì´ì „íŠ¸"
    
    async def step(self) -> str:
        # 1. ë©”ëª¨ë¦¬ì—ì„œ ë§ˆì§€ë§‰ ì‚¬ìš©ì ë©”ì‹œì§€ ê°€ì ¸ì˜¤ê¸°
        last_message = self.memory.messages[-1]
        
        # 2. LLMì—ê²Œ ì‘ë‹µ ìš”ì²­
        response = await self.llm.chat_completion(
            self.memory.messages
        )
        
        # 3. ì‘ë‹µì„ ë©”ëª¨ë¦¬ì— ì €ì¥
        self.update_memory("assistant", response.content)
        
        # 4. ì‘ì—… ì™„ë£Œ ìƒíƒœë¡œ ì „í™˜
        if "ì™„ë£Œ" in response.content:
            self.state = AgentState.FINISHED
            
        return response.content
```

### 2. ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ì—ì´ì „íŠ¸

```python
from app.agent.toolcall import ToolCallAgent
from app.tool import ToolCollection, PythonExecute

class MyToolAgent(ToolCallAgent):
    name = "MyToolAgent"
    description = "ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ì—ì´ì „íŠ¸"
    
    available_tools = ToolCollection(
        PythonExecute(),
        # ë‹¤ë¥¸ ë„êµ¬ ì¶”ê°€
    )
    
    async def step(self) -> str:
        # 1. think: ë‹¤ìŒ í–‰ë™ ê²°ì •
        has_tool_calls = await self.think()
        
        # 2. act: ë„êµ¬ ì‹¤í–‰
        if has_tool_calls:
            result = await self.act()
            return f"ë„êµ¬ ì‹¤í–‰ ê²°ê³¼: {result}"
        
        # 3. ì™„ë£Œ ì¡°ê±´ ì²´í¬
        last_msg = self.memory.messages[-1]
        if last_msg.role == "assistant" and "ì™„ë£Œ" in last_msg.content:
            self.state = AgentState.FINISHED
            
        return "ë‹¨ê³„ ì™„ë£Œ"
```

## ì—ì´ì „íŠ¸ ì„¤ì •

### ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸

ì—ì´ì „íŠ¸ì˜ ì—­í• ê³¼ í–‰ë™ì„ ì •ì˜í•©ë‹ˆë‹¤:

```python
SYSTEM_PROMPT = """
ë‹¹ì‹ ì€ {name} ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

ì—­í• : {description}

ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬:
{tools}

ì‘ì—… ì§€ì¹¨:
1. ì‚¬ìš©ì ìš”ì²­ì„ ë¶„ì„
2. ì ì ˆí•œ ë„êµ¬ ì„ íƒ
3. ë‹¨ê³„ë³„ë¡œ ì‹¤í–‰
4. ê²°ê³¼ í™•ì¸ ë° ë³´ê³ 
"""
```

### ë‹¤ìŒ ë‹¨ê³„ í”„ë¡¬í”„íŠ¸

ê° ë‹¨ê³„ì—ì„œ LLMì—ê²Œ ì£¼ëŠ” ì§€ì‹œì…ë‹ˆë‹¤:

```python
NEXT_STEP_PROMPT = """
í˜„ì¬ ìƒí™©ì„ ë¶„ì„í•˜ê³  ë‹¤ìŒ ë‹¨ê³„ë¥¼ ê²°ì •í•˜ì„¸ìš”:

1. ëª©í‘œ ë‹¬ì„± ì—¬ë¶€ í™•ì¸
2. í•„ìš”í•œ ì •ë³´ íŒŒì•…
3. ì ì ˆí•œ ë„êµ¬ ì„ íƒ
4. ì‹¤í–‰ ë˜ëŠ” ì™„ë£Œ

í˜„ì¬ ë‹¨ê³„: {current_step}/{max_steps}
"""
```

## ì—ì´ì „íŠ¸ í†µì‹ 

### ë©”ì‹œì§€ í¬ë§·

```python
# ì‚¬ìš©ì ë©”ì‹œì§€
Message(role="user", content="ì‘ì—… ìš”ì²­")

# ì‹œìŠ¤í…œ ë©”ì‹œì§€
Message(role="system", content="ì‹œìŠ¤í…œ ì§€ì‹œ")

# ì–´ì‹œìŠ¤í„´íŠ¸ ë©”ì‹œì§€
Message(role="assistant", content="ì‘ë‹µ", tool_calls=[...])

# ë„êµ¬ ê²°ê³¼ ë©”ì‹œì§€
Message(
    role="tool",
    content="ê²°ê³¼",
    name="tool_name",
    tool_call_id="call_123"
)
```

### ë„êµ¬ í˜¸ì¶œ íë¦„

```
Assistant: {
  "tool_calls": [{
    "id": "call_123",
    "function": {
      "name": "python_execute",
      "arguments": "{\"code\": \"print('Hello')\"}"
    }
  }]
}
    â†“
Tool: {
  "role": "tool",
  "tool_call_id": "call_123",
  "name": "python_execute",
  "content": "Hello\n"
}
```

## ì—ì´ì „íŠ¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜

### ìˆœì°¨ ì‹¤í–‰

```python
agent1 = Manus()
agent2 = DataAnalysis()

result1 = await agent1.run("ë°ì´í„° ìˆ˜ì§‘")
result2 = await agent2.run(f"{result1}ì„ ë¶„ì„í•´ì¤˜")
```

### ë³‘ë ¬ ì‹¤í–‰

```python
async def parallel_agents():
    task1 = agent1.run("ì‘ì—…1")
    task2 = agent2.run("ì‘ì—…2")
    
    results = await asyncio.gather(task1, task2)
    return results
```

### Flow ì‹œìŠ¤í…œ

```python
flow = FlowFactory.create_flow(
    flow_type=FlowType.PLANNING,
    agents={
        "manus": Manus(),
        "analysis": DataAnalysis()
    }
)
result = await flow.execute("ë³µì¡í•œ ì‘ì—… ìš”ì²­")
```

## ëª¨ë²” ì‚¬ë¡€

### 1. ëª…í™•í•œ ì¢…ë£Œ ì¡°ê±´

```python
if "ì‘ì—… ì™„ë£Œ" in response or step_count >= max_steps:
    self.state = AgentState.FINISHED
```

### 2. ì˜¤ë¥˜ ì²˜ë¦¬

```python
try:
    result = await self.step()
except Exception as e:
    self.state = AgentState.ERROR
    logger.error(f"Error: {e}")
```

### 3. ë©”ëª¨ë¦¬ ê´€ë¦¬

```python
# ë©”ëª¨ë¦¬ê°€ ë„ˆë¬´ ì»¤ì§€ì§€ ì•Šë„ë¡ ì œí•œ
self.memory.max_messages = 50
```

### 4. í”„ë¡¬í”„íŠ¸ ìµœì í™”

```python
# ì‘ì—…ë³„ë¡œ íŠ¹í™”ëœ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©
if task_type == "data_analysis":
    self.system_prompt = DATA_ANALYSIS_PROMPT
```

## ë‹¤ìŒ ë‹¨ê³„

- [ë„êµ¬ ì‹œìŠ¤í…œ](/concepts/tools): ì—ì´ì „íŠ¸ê°€ ì‚¬ìš©í•˜ëŠ” ë„êµ¬ë“¤
- [ë©”ëª¨ë¦¬ ê´€ë¦¬](/concepts/memory): ë©”ëª¨ë¦¬ ì‹œìŠ¤í…œ ì‹¬í™”
- [ì›Œí¬í”Œë¡œìš°](/concepts/flows): ë©€í‹° ì—ì´ì „íŠ¸ ì¡°ìœ¨
- [API ì°¸ì¡°](/api/agent): ì—ì´ì „íŠ¸ API ë¬¸ì„œ
